
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Class 3: Introduction to Networkx 2 — Graph Properties &amp; Algorithms &#8212; PHYS 7332: Network Science Data &amp; Models (Fall 2025)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/class_03/class_03_networkx2';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Class 4: Distributions of Network Properties &amp; Centralities" href="../class_04/class_04_distributions.html" />
    <link rel="prev" title="Class 2: Introduction to Networkx 1 — Graph Objects, Properties, Importing Data" href="../class_02/class_02_networkx1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
  
  
    <p class="title logo__title">PHYS 7332: Network Science Data & Models (Fall 2025)</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    PHYS 7332: Network Science Data & Models – Fall 2025
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../class_00/class_00_github_computing_setup.html">Class 00: Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_01/class_01_python_refresher.html">Class 01: Python Refresher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_02/class_02_networkx1.html">Class 02: Introduction to Networkx 1</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Class 03: Introduction to Networkx 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_04/class_04_distributions.html">Class 04: Distributions of Network Properties &amp; Centralities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_05/class_05_scraping1.html">Class 05: Scraping Web Data 1 - BeautifulSoup &amp; HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_06/class_06_data_science_and_sql.html">Class 06: Data Science 1 — Pandas, SQL, Regressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_07/class_07_creating_a_network_from_sql_tables.html">Class 07: Data Science 2 — SQL for Network Construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_08/class_08_communities1.html">Class 08: Clustering &amp; Community Detection 1 — Traditional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_09/class_09_communities2.html">Class 09: Clustering &amp; Community Detection 2 — Contemporary</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/network-science-data-and-models/phys7332_fa25" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/network-science-data-and-models/phys7332_fa25/issues/new?title=Issue%20on%20page%20%2Fnotebooks/class_03/class_03_networkx2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/class_03/class_03_networkx2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Class 3: Introduction to Networkx 2 — Graph Properties & Algorithms</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#degree-distributions">Degree Distributions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#erdos-renyi-networks">Erdős-Rényi Networks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-random-graphs">Beyond Random Graphs</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#recall-from-our-last-class">Recall, from our last class:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#step-by-step-way-to-make-this-network">Step-by-step way to make this network:</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-the-class-out-with-a-challenge">Starting the class out with a challenge</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-degree-distributions">Plotting Degree Distributions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#note-from-advanced-topics-4b-in-network-science-by-laszlo-barabasi">Note from Advanced Topics 4b in <em>Network Science</em> by Lászlo Barabási</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-network-generator-functions-from-last-class">Using the network generator functions from last class…</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#paths-and-components">Paths and Components</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#breadth-first-search-bfs">Breadth-first search (BFS)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#putting-it-all-together">Putting it all together</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#from-above">From above:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segue-a-special-kind-of-path">Segue: A special kind of “path”</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering">Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#local-clustering">Local Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interlude-itertools-functions-creating-iterators-for-efficient-looping">Interlude: <code class="docutils literal notranslate"><span class="pre">itertools</span></code> — Functions creating iterators for efficient looping</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#global-clustering">Global Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#your-turn">Your turn!</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#want-more-in-your-own-time">Want more? In your own time…</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-time">Next time…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-resources">References and further resources:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="class-3-introduction-to-networkx-2-graph-properties-algorithms">
<h1>Class 3: Introduction to Networkx 2 — Graph Properties &amp; Algorithms<a class="headerlink" href="#class-3-introduction-to-networkx-2-graph-properties-algorithms" title="Link to this heading">#</a></h1>
<p>Goal of today’s class:</p>
<ol class="arabic simple">
<li><p>Continue exploring <code class="docutils literal notranslate"><span class="pre">networkx</span></code></p></li>
<li><p>Build a base of useful functions for network analysis</p></li>
</ol>
<p><em>Acknowledgement: Much of the material in this lesson is based on a previous course offered by Matteo Chinazzi and Qian Zhang.</em></p>
<hr class="docutils" />
<ol class="arabic simple">
<li><p>Come in. Sit down. Open Teams.</p></li>
<li><p>Find your notebook in your /Class_03/ folder.</p></li>
</ol>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">networkx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nx</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">rc</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;savefig&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">axisbelow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="degree-distributions">
<h2>Degree Distributions<a class="headerlink" href="#degree-distributions" title="Link to this heading">#</a></h2>
<section id="erdos-renyi-networks">
<h3>Erdős-Rényi Networks<a class="headerlink" href="#erdos-renyi-networks" title="Link to this heading">#</a></h3>
<p>In the limit for large <span class="math notranslate nohighlight">\(N\)</span> the degree distribution <span class="math notranslate nohighlight">\(P(k)\)</span> can be approximated by the Poisson distribution:</p>
<div class="math notranslate nohighlight">
\[ P(k) = e^{-\langle k \rangle}\frac{\langle k \rangle^k}{k!} \]</div>
<p>Although, before that, it is defined by a Binomial distribution:</p>
<div class="math notranslate nohighlight">
\[ P(k) = \binom{N-1}{k} p^k (1-p)^{N-k-1} \]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">4</span>
<span class="n">p</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">av_deg</span> <span class="o">=</span> <span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">p</span>

<span class="n">num_bins</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">gnp_random_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
<span class="n">nd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

<span class="n">__</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">nd</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;#333333&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">,</span>
             <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Erdös-Rényi</span><span class="se">\n</span><span class="s1">($N=10^</span><span class="si">{3}</span><span class="s1">, p=10^{-3}$)&#39;</span><span class="p">)</span>

<span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span><span class="n">av_deg</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">__</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;#333333&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;goldenrod&#39;</span><span class="p">,</span>
             <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Poisson distribution&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#999999&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pngs/Pk_ER_vs_poisson.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pdfs/Pk_ER_vs_poisson.pdf&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">### Question: How do we generate poisson distributions without sampling + histograms?</span>
<span class="c1">###           What does this function do?</span>
<span class="c1"># from scipy.stats import poisson</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/df7c59d5387bc65e3acefef63c51e542954da8b0f0d7a115092378547f84c404.png" src="../../_images/df7c59d5387bc65e3acefef63c51e542954da8b0f0d7a115092378547f84c404.png" />
</div>
</div>
</section>
<hr class="docutils" />
<section id="beyond-random-graphs">
<h3>Beyond Random Graphs<a class="headerlink" href="#beyond-random-graphs" title="Link to this heading">#</a></h3>
<section id="recall-from-our-last-class">
<h4>Recall, from our last class:<a class="headerlink" href="#recall-from-our-last-class" title="Link to this heading">#</a></h4>
<p><strong>Source:</strong> <a class="reference external" href="https://doi.org/10.1145/1134271.1134277https://doi.org/10.1145/1134271.1134277">Adamic, L. A., &amp; Glance, N. (2005)</a>. The political blogosphere and the 2004 US election: Divided they blog. In <em>Proceedings of the 3rd International Workshop on Link Discovery</em> (pp. 36-43).</p>
<p>In the following we will learn how to load a directed graph, extract a vertex-induced subgraph, and compute the in- and out-degree of the vertices of the graph. We will use a directed graph that includes a collection of hyperlinks between weblogs on US politics, recorded in 2005 by Adamic and Glance.</p>
<p>The data are included in two tab-separated files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">polblogs_nodes.tsv</span></code>: node id, node label, political orientation (0 = left or liberal, 1 = right or conservative).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">polblogs_edges.tsv</span></code>: source node id, target node id.</p></li>
</ul>
</section>
<section id="step-by-step-way-to-make-this-network">
<h4>Step-by-step way to make this network:<a class="headerlink" href="#step-by-step-way-to-make-this-network" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>One-by-one add nodes (blogs)</p></li>
<li><p>Connect nodes based on hyperlinks between blogs</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">digraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/polblogs_nodes_class.tsv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">node_id</span><span class="p">,</span> <span class="n">node_label</span><span class="p">,</span> <span class="n">node_political</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">political_orientation</span> <span class="o">=</span> <span class="s1">&#39;liberal&#39;</span> <span class="k">if</span> <span class="n">node_political</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="k">else</span> <span class="s1">&#39;conservative&#39;</span>
        <span class="n">digraph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">website</span><span class="o">=</span><span class="n">node_label</span><span class="p">,</span> <span class="n">political_orientation</span><span class="o">=</span><span class="n">political_orientation</span><span class="p">)</span>
        
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/polblogs_edges_class.tsv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">source_node_id</span><span class="p">,</span> <span class="n">target_node_id</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">digraph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">source_node_id</span><span class="p">,</span> <span class="n">target_node_id</span><span class="p">)</span>
        
<span class="n">degree</span> <span class="o">=</span> <span class="n">digraph</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="n">in_degree</span> <span class="o">=</span> <span class="n">digraph</span><span class="o">.</span><span class="n">in_degree</span><span class="p">()</span>
<span class="n">out_degree</span> <span class="o">=</span> <span class="n">digraph</span><span class="o">.</span><span class="n">out_degree</span><span class="p">()</span>

<span class="c1"># I ususally make this a dictionary straight away</span>
<span class="n">degree</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">degree</span><span class="p">)</span>
<span class="n">in_degree</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">in_degree</span><span class="p">)</span>
<span class="n">out_degree</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">out_degree</span><span class="p">)</span>

<span class="n">deg_vals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">degree</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">in_deg_vals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">in_degree</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">out_deg_vals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">out_degree</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">deg_vals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fb758226dc0&gt;]
</pre></div>
</div>
<img alt="../../_images/2ad79392fbf6a178fba32f0a25ca2817b9be47e0701d522f1d48985b5fea5eed.png" src="../../_images/2ad79392fbf6a178fba32f0a25ca2817b9be47e0701d522f1d48985b5fea5eed.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">deg_vals</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fb768990400&gt;]
</pre></div>
</div>
<img alt="../../_images/2a935f66f2158e9558971a4f7775f49be27fc6b7c4608b2ee8c44c6fe3568cc9.png" src="../../_images/2a935f66f2158e9558971a4f7775f49be27fc6b7c4608b2ee8c44c6fe3568cc9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">min_deg</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">max_deg</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">deg_vals</span><span class="p">)</span>
<span class="n">deg_bins</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">min_deg</span><span class="p">,</span> <span class="n">max_deg</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">deg_vals</span><span class="p">))</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">deg_bins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">j</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">deg_bins</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span><span class="nb">list</span><span class="p">(</span><span class="n">deg_bins</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fb738089520&gt;]
</pre></div>
</div>
<img alt="../../_images/f6589ec29d2dba3543cca14b83f44578df74c9579bf6737eea03e6f978548808.png" src="../../_images/f6589ec29d2dba3543cca14b83f44578df74c9579bf6737eea03e6f978548808.png" />
</div>
</div>
<p><strong>Question</strong>: Is this the most informative way to visualize this distribution?</p>
<section id="starting-the-class-out-with-a-challenge">
<h5>Starting the class out with a challenge<a class="headerlink" href="#starting-the-class-out-with-a-challenge" title="Link to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">degree_distribution</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a degree sequence, return the y values (probability) and the</span>
<span class="sd">    x values (support) of a degree distribution that you&#39;re going to plot.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    G (nx.Graph):</span>
<span class="sd">        the network whose degree distribution to calculate</span>

<span class="sd">    number_of_bins (int):</span>
<span class="sd">        length of output vectors</span>
<span class="sd">    </span>
<span class="sd">    log_binning (bool):</span>
<span class="sd">        if you are plotting on a log-log axis, then this is useful</span>
<span class="sd">    </span>
<span class="sd">    density (bool):</span>
<span class="sd">        whether to return counts or probability density (default: True)</span>
<span class="sd">        Note: probability densities integrate to 1 but do not sum to 1. </span>

<span class="sd">    directed (bool or str):</span>
<span class="sd">        if False, this assumes the network is undirected. Otherwise, the</span>
<span class="sd">        function requires an &#39;in&#39; or &#39;out&#39; as input, which will create the </span>
<span class="sd">        in- or out-degree distributions, respectively.</span>
<span class="sd">        </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bins_out, probs (np.ndarray):</span>
<span class="sd">        probability density if density=True node counts if density=False; binned edges</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Step 0: Do we want the directed or undirected degree distribution?</span>
    <span class="k">if</span> <span class="n">directed</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">directed</span><span class="o">==</span><span class="s1">&#39;in&#39;</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">elif</span> <span class="n">directed</span><span class="o">==</span><span class="s1">&#39;out&#39;</span><span class="p">:</span>
            <span class="k">pass</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out_error</span> <span class="o">=</span> <span class="s2">&quot;Help! if directed!=False, the input needs to be either &#39;in&#39; or &#39;out&#39;&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">out_error</span><span class="p">)</span>
            <span class="c1"># Question: Is this the correct way to raise an error message in Python?</span>
            <span class="c1">#           See &quot;raise&quot; function...</span>
            <span class="k">return</span> <span class="n">out_error</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>


    <span class="c1"># Step 1: We will first need to define the support of our distribution</span>
    <span class="n">kmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>    <span class="c1"># get the maximum degree</span>
    <span class="n">kmin</span> <span class="o">=</span> <span class="mi">0</span>            <span class="c1"># let&#39;s assume kmin must be 0</span>


    <span class="c1"># Step 2: Then we&#39;ll need to construct bins</span>
    <span class="k">if</span> <span class="n">log_binning</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>


    <span class="c1"># Step 3: Then we can compute the histogram using numpy</span>


    <span class="c1"># Step 4: Return not the &quot;bins&quot; but the midpoint between adjacent bin</span>
    <span class="c1">#         values. This is a better way to plot the distribution.</span>

    
    <span class="k">pass</span>

    <span class="k">return</span> <span class="n">bins_out</span><span class="p">,</span> <span class="n">probs</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<hr class="docutils" />
<section id="plotting-degree-distributions">
<h2>Plotting Degree Distributions<a class="headerlink" href="#plotting-degree-distributions" title="Link to this heading">#</a></h2>
<p>The <strong>degree distribution</strong> <span class="math notranslate nohighlight">\(P(k)\)</span> of <em>undirected</em> graphs is defined as the probability that any randomly chosen vertex has degree <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>In <em>directed</em> graphs, we need to consider two distributions: the <strong>in-degree</strong> <span class="math notranslate nohighlight">\(P(k_{in})\)</span> and <strong>out-degree</strong> <span class="math notranslate nohighlight">\(P(k_{out})\)</span> distributions, defined as the probability that a randomly chosen vertex has <em>in-degree</em> <span class="math notranslate nohighlight">\(k_{in}\)</span> and <em>out-degree</em> <span class="math notranslate nohighlight">\(k_{out}\)</span>, respectively.</p>
<p>In many real world networks, degree distributions are <em>skewed</em> and <em>highly variable</em> (i.e. the support of the distribution spans several orders of magnitude). In many cases, this <strong>heavy tailed</strong> behavior can be approximated by a power-law decay <span class="math notranslate nohighlight">\(P(k)\sim k^{-\alpha}\)</span>.</p>
<p><img alt="https://networksciencebook.com/images/ch-04/figure-4-6.jpg" src="https://networksciencebook.com/images/ch-04/figure-4-6.jpg" /></p>
<p>Source: <a class="reference external" href="http://barabasi.com/networksciencebook/chapter/4#hubs">http://barabasi.com/networksciencebook/chapter/4#hubs</a></p>
<p>;) don’t look below</p>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">degree_distribution</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a degree sequence, return the y values (probability) and the</span>
<span class="sd">    x values (support) of a degree distribution that you&#39;re going to plot.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    G (nx.Graph):</span>
<span class="sd">        the network whose degree distribution to calculate</span>

<span class="sd">    number_of_bins (int):</span>
<span class="sd">        length of output vectors</span>
<span class="sd">    </span>
<span class="sd">    log_binning (bool):</span>
<span class="sd">        if you are plotting on a log-log axis, then this is useful</span>
<span class="sd">    </span>
<span class="sd">    density (bool):</span>
<span class="sd">        whether to return counts or probability density (default: True)</span>
<span class="sd">        Note: probability densities integrate to 1 but do not sum to 1. </span>

<span class="sd">    directed (bool or str):</span>
<span class="sd">        if False, this assumes the network is undirected. Otherwise, the</span>
<span class="sd">        function requires an &#39;in&#39; or &#39;out&#39; as input, which will create the </span>
<span class="sd">        in- or out-degree distributions, respectively.</span>
<span class="sd">        </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bins_out, probs (np.ndarray):</span>
<span class="sd">        probability density if density=True node counts if density=False; binned edges</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Step 0: Do we want the directed or undirected degree distribution?</span>
    <span class="k">if</span> <span class="n">directed</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">directed</span><span class="o">==</span><span class="s1">&#39;in&#39;</span><span class="p">:</span>
            <span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">in_degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="c1"># get the in degree of each node</span>
        <span class="k">elif</span> <span class="n">directed</span><span class="o">==</span><span class="s1">&#39;out&#39;</span><span class="p">:</span>
            <span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">out_degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="c1"># get the out degree of each node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out_error</span> <span class="o">=</span> <span class="s2">&quot;Help! if directed!=False, the input needs to be either &#39;in&#39; or &#39;out&#39;&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">out_error</span><span class="p">)</span>
            <span class="c1"># Question: Is this the correct way to raise an error message in Python?</span>
            <span class="c1">#           See &quot;raise&quot; function...</span>
            <span class="k">return</span> <span class="n">out_error</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="c1"># get the degree of each node</span>


    <span class="c1"># Step 1: We will first need to define the support of our distribution</span>
    <span class="n">kmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>    <span class="c1"># get the maximum degree</span>
    <span class="n">kmin</span> <span class="o">=</span> <span class="mi">0</span>            <span class="c1"># let&#39;s assume kmin must be 0</span>


    <span class="c1"># Step 2: Then we&#39;ll need to construct bins</span>
    <span class="k">if</span> <span class="n">log_binning</span><span class="p">:</span>
        <span class="c1"># array of bin edges including rightmost and leftmost</span>
        <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">kmax</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">number_of_bins</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">kmax</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">number_of_bins</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>


    <span class="c1"># Step 3: Then we can compute the histogram using numpy</span>
    <span class="n">probs</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="n">density</span><span class="p">)</span>


    <span class="c1"># Step 4: Return not the &quot;bins&quot; but the midpoint between adjacent bin</span>
    <span class="c1">#         values. This is a better way to plot the distribution.</span>
    <span class="n">bins_out</span> <span class="o">=</span> <span class="n">bins</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
    
    <span class="k">return</span> <span class="n">bins_out</span><span class="p">,</span> <span class="n">probs</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G0</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">to_undirected</span><span class="p">(</span><span class="n">digraph</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">G0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15 15
</pre></div>
</div>
<img alt="../../_images/308393a35a3283e9ed6a34589c2f5afadc98155d43b2709947616923112811cf.png" src="../../_images/308393a35a3283e9ed6a34589c2f5afadc98155d43b2709947616923112811cf.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span>  <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
<span class="n">x_out</span><span class="p">,</span><span class="n">y_out</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;out&#39;</span><span class="p">)</span>



<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">125</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;in-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.1&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_out</span><span class="p">,</span> <span class="n">y_out</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;out-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.4&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$P(k)$&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#999999&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;PolBlogs Degree Distribution&#39;</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pngs/PolBlogs_inout_degreedist.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pdfs/PolBlogs_inout_degreedist.pdf&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/b262de64f070e58ac3396811018ebda1ec3e0c8538fb7d6146304addd4fb5eba.png" src="../../_images/b262de64f070e58ac3396811018ebda1ec3e0c8538fb7d6146304addd4fb5eba.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note: your plots will look stupid if you don&#39;t do log binning...</span>
<span class="n">nbins</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span>  <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
<span class="n">x_out</span><span class="p">,</span><span class="n">y_out</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;out&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;in-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.1&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_out</span><span class="p">,</span> <span class="n">y_out</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;out-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.4&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$P(k)$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#999999&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;With log-binning (not ugly)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>

<span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span>  <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
<span class="n">x_out</span><span class="p">,</span><span class="n">y_out</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="s1">&#39;out&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span> <span class="n">y_in</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;firebrick&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;in-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.1&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_out</span><span class="p">,</span> <span class="n">y_out</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;out-degree&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;.4&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$P(k)$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#999999&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Without log-binning (ugly)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pngs/PolBlogs_inout_degreedist_binningcompare.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pdfs/PolBlogs_inout_degreedist_binningcompare.pdf&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1186d1345ecdd6a599f0419116c4c8447ecdab1429b2d067e5168fec21955cab.png" src="../../_images/1186d1345ecdd6a599f0419116c4c8447ecdab1429b2d067e5168fec21955cab.png" />
</div>
</div>
<section id="note-from-advanced-topics-4b-in-network-science-by-laszlo-barabasi">
<h3>Note from Advanced Topics 4b in <em>Network Science</em> by Lászlo Barabási<a class="headerlink" href="#note-from-advanced-topics-4b-in-network-science-by-laszlo-barabasi" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://networksciencebook.com/chapter/4#advanced-b">https://networksciencebook.com/chapter/4#advanced-b</a></p>
<p><img alt="" src="../../_images/barabasi_log_binning.png" />
<img alt="" src="../../_images/barabasi_figure-4-22.png" /></p>
</section>
<section id="using-the-network-generator-functions-from-last-class">
<h3>Using the network generator functions from last class…<a class="headerlink" href="#using-the-network-generator-functions-from-last-class" title="Link to this heading">#</a></h3>
<p><em>Your Turn!</em></p>
<ol class="arabic simple">
<li><p>Generate 3 random graphs with roughly the same number of nodes and edges that the <code class="docutils literal notranslate"><span class="pre">polblogs</span></code> dataset has</p></li>
<li><p>Plot the degree distribution in the same plot as the true degree distribution</p></li>
<li><p>Write a few sentences that show what you’ve found</p></li>
</ol>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="n">G0</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">()</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">G0</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">E</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1490 16718
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G1</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">gnm_random_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">E</span><span class="p">)</span> <span class="c1"># same number of nodes and edges</span>
<span class="n">G2</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">powerlaw_cluster_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span> <span class="c1"># same number of nodes, similar number of edges</span>
<span class="n">G3</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">duplication_divergence_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mf">0.6698</span><span class="p">)</span> <span class="c1"># had to work at it, but approx same number of nodes + edges</span>
<span class="c1"># np.mean([nx.duplication_divergence_graph(N, 0.6698).number_of_edges() for i in range(100)])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">x0</span><span class="p">,</span><span class="n">y0</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">G0</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">x1</span><span class="p">,</span><span class="n">y1</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">G1</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">x2</span><span class="p">,</span><span class="n">y2</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">G2</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">x3</span><span class="p">,</span><span class="n">y3</span> <span class="o">=</span> <span class="n">degree_distribution</span><span class="p">(</span><span class="n">G3</span><span class="p">,</span> <span class="n">number_of_bins</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="n">y0</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;polblogs&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$G_{n,m}$&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;powerlaw cluster&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span><span class="n">y3</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;duplication divergence&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$k$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$P(k)$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/8f2aa297c779208b7750a265ec1dd03223a8d10babd2688a178042c6ee8ef103.png" src="../../_images/8f2aa297c779208b7750a265ec1dd03223a8d10babd2688a178042c6ee8ef103.png" />
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="paths-and-components">
<h2>Paths and Components<a class="headerlink" href="#paths-and-components" title="Link to this heading">#</a></h2>
<p>Let us defines a <strong>path</strong> <span class="math notranslate nohighlight">\(P_{i_0,i_n}\)</span> in a graph <span class="math notranslate nohighlight">\(G = (V,E)\)</span> as an <em>ordered collection</em> of vertices <span class="math notranslate nohighlight">\(\{i_0, i_1, \dots, i_n \}\)</span> and <span class="math notranslate nohighlight">\(n\)</span> edges <span class="math notranslate nohighlight">\(\{(i_0,i_1), (i_1,i_2), \dots, (i_{n-1},i_n) \}\)</span> such that <span class="math notranslate nohighlight">\(i_a \in V\)</span> and <span class="math notranslate nohighlight">\((i_{a-1},i_a) \in E, \forall a\)</span>. The path <span class="math notranslate nohighlight">\(P_{i_0,i_n}\)</span> connects nodes <span class="math notranslate nohighlight">\(i_0\)</span> and <span class="math notranslate nohighlight">\(i_n\)</span> and its <strong>length</strong> is <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p><strong>Note:</strong> The number of paths of length <span class="math notranslate nohighlight">\(n\)</span> between two nodes <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span> is equivalent to the element <span class="math notranslate nohighlight">\(i,j\)</span> of the <span class="math notranslate nohighlight">\(n\)</span>th power of the adjacency matrix <span class="math notranslate nohighlight">\(A\)</span>.</p>
<ul class="simple">
<li><p>A <strong>shortest-path</strong> (or <em>geodesic path</em>) is the shortest path connecting two vertices.</p></li>
<li><p>The <strong>eccentricity</strong> <span class="math notranslate nohighlight">\(\epsilon\)</span> of a vertex <span class="math notranslate nohighlight">\(i\)</span> is the longest shortest-path between vertex <span class="math notranslate nohighlight">\(i\)</span> and any other vertex <span class="math notranslate nohighlight">\(j\)</span>.</p></li>
<li><p>The <strong>radius</strong> <span class="math notranslate nohighlight">\(r\)</span> of a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> is the <em>minimum</em> eccentricity of any node in <span class="math notranslate nohighlight">\(V\)</span>.</p></li>
<li><p>The <strong>diameter</strong> <span class="math notranslate nohighlight">\(d\)</span> of a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> is the <em>maximum</em> eccentricity of any node in <span class="math notranslate nohighlight">\(V\)</span>.</p></li>
<li><p>A <strong>cycle</strong> (or loop) is a closed path (i.e. <span class="math notranslate nohighlight">\(i_0 = i_n\)</span>) in which all vertices and all edges are distinct. If a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> does not contain any cycle, than such graph is said to be <strong>acyclic</strong>. Instead, if it contains at least one cycle, the graph is said to be <strong>cyclic</strong>.</p></li>
</ul>
<p><strong>We’ll be diving into paths more thoroughly in later lessons, but to kick things off today, let’s define these terms above</strong>…</p>
<p>Starting with <em>shortest path</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Question: What is our “shortest path” function meant to do?</p>
<ol class="arabic simple">
<li><p><strong>Goal: I want to know the shortest path from node <em>i</em> to node <em>j</em></strong>.</p></li>
<li><p><strong>Goal: I want to know the shortest paths from all nodes <em>i</em> to all other nodes <em>j</em></strong>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># For a given node i, let&#39;s initialize all other nodes to be -1 (infinite) hops away</span>
<span class="n">distances</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()}</span>

<span class="c1"># And distance of 0 from node_i to itself</span>
<span class="n">distances</span><span class="p">[</span><span class="n">node_i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># I&#39;ll need to make a queue of nodes to search... How to do this?</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<section id="breadth-first-search-bfs">
<h3>Breadth-first search (BFS)<a class="headerlink" href="#breadth-first-search-bfs" title="Link to this heading">#</a></h3>
<p><img alt="../../images/BFS.gif" src="../../_images/BFS.gif" /></p>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Queue of nodes to visit next, starting with our source node_i</span>
<span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">node_i</span><span class="p">]</span>

<span class="c1"># We want to:</span>
<span class="c1">### 1. Start with one element in our queue</span>
<span class="c1">### 2. Find its neighbors and add them to our queue</span>
<span class="c1">### 3. Select one of the neighbors from the queue</span>
<span class="c1">### 4. Add its neighbors to our queue</span>
<span class="c1">### 5. And so on, until the queue has been depleted</span>

<span class="c1"># This is a great time for a `while` loop!</span>

<span class="c1"># while there is still a queue of any positive length (instead of len(queue)&gt;0)...</span>
<span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
    <span class="c1"># select oldest item in the list (as opposed to last item)</span>
    <span class="n">current_node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># find all the </span>
    <span class="k">for</span> <span class="n">next_node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">current_node</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">distances</span><span class="p">[</span><span class="n">next_node</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># set next_node&#39;s distance to be +1 whatever the distance to the current node is</span>
            <span class="c1">### e.g. if current_node distance is 0, its neighbors will be 0+1 distance away</span>
            <span class="c1">### ... and so on</span>
            <span class="n">distances</span><span class="p">[</span><span class="n">next_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="c1"># and since we havent seen next_node before (distance still &lt; 0)</span>
            <span class="c1"># we will need to append it to our queue</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_node</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mf">3.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">dist_col_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;firebrick&#39;</span><span class="p">,</span>
                <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;palevioletred&#39;</span><span class="p">,</span>
                <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;darkorange&#39;</span><span class="p">,</span>
                <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;gold&#39;</span><span class="p">}</span>

<span class="n">node_cols0</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.8&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()]</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="n">node_cols0</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.2&#39;</span><span class="p">,</span>
        <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="s1">&#39;x-small&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;.6&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">node_cols1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;firebrick&#39;</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">node_i</span> <span class="k">else</span> <span class="s1">&#39;.8&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()]</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="p">[</span><span class="mi">300</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">node_i</span> <span class="k">else</span> <span class="mi">150</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()],</span>
        <span class="n">node_color</span><span class="o">=</span><span class="n">node_cols1</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.2&#39;</span><span class="p">,</span>
        <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="s1">&#39;x-small&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;.6&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">node_cols2</span> <span class="o">=</span> <span class="p">[</span><span class="n">dist_col_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">distances</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="p">[</span><span class="mi">300</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">node_i</span> <span class="k">else</span> <span class="mi">150</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()],</span>
        <span class="n">node_color</span><span class="o">=</span><span class="n">node_cols2</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.2&#39;</span><span class="p">,</span>
        <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="s1">&#39;x-small&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;.6&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original graph&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Select &quot;source&quot; node&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Color other nodes by</span><span class="se">\n</span><span class="s1">distance from source&#39;</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pngs/networkx_example_BFS.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/pdfs/networkx_example_BFS.pdf&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1b4730186100676c5ac797f5031a96b417a2c98823d0a357cba6ed671490030f.png" src="../../_images/1b4730186100676c5ac797f5031a96b417a2c98823d0a357cba6ed671490030f.png" />
</div>
</div>
<section id="putting-it-all-together">
<h4>Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Link to this heading">#</a></h4>
<p><strong>Your turn!</strong></p>
<p>Finish the function <code class="docutils literal notranslate"><span class="pre">all_shortest_from</span></code> below. We’ll need it for an exercise shortly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">all_shortest_from</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">node_i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For a given node_i in the network, construct a dictionary containing</span>
<span class="sd">    the length of the shortest path between that node and all others in</span>
<span class="sd">    the network. Values of -1 correspond to nodes where no paths connect</span>
<span class="sd">    to node_i.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    G (nx.Graph)</span>
<span class="sd">        the graph in question</span>
<span class="sd">    </span>
<span class="sd">    node_i (int or str)</span>
<span class="sd">        the label of the &quot;source&quot; node</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    distances (dict)</span>
<span class="sd">        dictionary where the key corresponds to other nodes in the network</span>
<span class="sd">        and the values indicate the shortest path length between that node</span>
<span class="sd">        and the original node_i source.</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">pass</span>
    
    <span class="k">return</span> <span class="n">distances</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">all_shortest_from</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">node_i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For a given node_i in the network, construct a dictionary containing</span>
<span class="sd">    the length of the shortest path between that node and all others in</span>
<span class="sd">    the network. Values of -1 correspond to nodes where no paths connect</span>
<span class="sd">    to node_i.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    G (nx.Graph)</span>
<span class="sd">        the graph in question</span>
<span class="sd">    </span>
<span class="sd">    node_i (int or str)</span>
<span class="sd">        the label of the &quot;source&quot; node</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    distances (dict)</span>
<span class="sd">        dictionary where the key corresponds to other nodes in the network</span>
<span class="sd">        and the values indicate the shortest path length between that node</span>
<span class="sd">        and the original node_i source.</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">distances</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()}</span>

    <span class="c1"># And distance of 0 from node_i to itself</span>
    <span class="n">distances</span><span class="p">[</span><span class="n">node_i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Queue of nodes to visit next, starting with our source node_i</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">node_i</span><span class="p">]</span>

    <span class="c1"># We want to:</span>
    <span class="c1">### 1. Start with one element in our queue</span>
    <span class="c1">### 2. Find its neighbors and add them to our queue</span>
    <span class="c1">### 3. Select one of the neighbors from the queue</span>
    <span class="c1">### 4. Add its neighbors to our queue</span>
    <span class="c1">### 5. And so on, until the queue has been depleted</span>

    <span class="c1"># This is a great time for a `while` loop!</span>

    <span class="c1"># while there is still a queue of any positive length (instead of len(queue)&gt;0)...</span>
    <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
        <span class="c1"># select oldest item in the list (as opposed to last item)</span>
        <span class="n">current_node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># find all the </span>
        <span class="k">for</span> <span class="n">next_node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">current_node</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">distances</span><span class="p">[</span><span class="n">next_node</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># set next_node&#39;s distance to be +1 whatever the distance to the current node is</span>
                <span class="c1">### e.g. if current_node distance is 0, its neighbors will be 0+1 distance away</span>
                <span class="c1">### ... and so on</span>
                <span class="n">distances</span><span class="p">[</span><span class="n">next_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>

                <span class="c1"># and since we havent seen next_node before (distance still &lt; 0)</span>
                <span class="c1"># we will need to append it to our queue</span>
                <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_node</span><span class="p">)</span>    
    
    <span class="k">return</span> <span class="n">distances</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="from-above">
<h4>From above:<a class="headerlink" href="#from-above" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>A <strong>shortest-path</strong> (or <em>geodesic path</em>) is the shortest path connecting two vertices.</p></li>
<li><p>The <strong>eccentricity</strong> <span class="math notranslate nohighlight">\(\epsilon\)</span> of a vertex <span class="math notranslate nohighlight">\(i\)</span> is the longest shortest-path between vertex <span class="math notranslate nohighlight">\(i\)</span> and any other vertex <span class="math notranslate nohighlight">\(j\)</span>.</p></li>
<li><p>The <strong>radius</strong> <span class="math notranslate nohighlight">\(r\)</span> of a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> is the <em>minimum</em> eccentricity of any node in <span class="math notranslate nohighlight">\(V\)</span>.</p></li>
<li><p>The <strong>diameter</strong> <span class="math notranslate nohighlight">\(d\)</span> of a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> is the <em>maximum</em> eccentricity of any node in <span class="math notranslate nohighlight">\(V\)</span>.</p></li>
<li><p>A <strong>cycle</strong> (or loop) is a closed path (i.e. <span class="math notranslate nohighlight">\(i_0 = i_n\)</span>) in which all vertices and all edges are distinct. If a graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span> does not contain any cycle, than such graph is said to be <strong>acyclic</strong>. Instead, if it contains at least one cycle, the graph is said to be <strong>cyclic</strong>.</p></li>
</ul>
<p><strong>Your turn!</strong></p>
<ol class="arabic simple">
<li><p>Use your function <code class="docutils literal notranslate"><span class="pre">all_shortest_paths</span></code> above to compute the shortest path lengths for every node in <code class="docutils literal notranslate"><span class="pre">G</span></code>.</p></li>
<li><p>Use this to calculate the following:</p>
<ul class="simple">
<li><p>A) The <strong>eccentrity</strong> of all nodes in <code class="docutils literal notranslate"><span class="pre">G</span></code></p></li>
<li><p>B) The <strong>radius</strong> of <code class="docutils literal notranslate"><span class="pre">G</span></code></p></li>
<li><p>C) The <strong>diameter</strong> of <code class="docutils literal notranslate"><span class="pre">G</span></code></p></li>
</ul>
</li>
<li><p>Cross-reference your answer with the output from <code class="docutils literal notranslate"><span class="pre">networkx</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Radius:&quot;</span><span class="p">,</span><span class="n">nx</span><span class="o">.</span><span class="n">radius</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Diameter:&quot;</span><span class="p">,</span><span class="n">nx</span><span class="o">.</span><span class="n">diameter</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">eccentricity</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Radius: 3
Diameter: 5
{0: 3, 1: 3, 2: 3, 3: 3, 4: 4, 5: 4, 6: 4, 7: 4, 8: 3, 9: 4, 10: 4, 11: 4, 12: 4, 13: 3, 14: 5, 15: 5, 16: 5, 17: 4, 18: 5, 19: 3, 20: 5, 21: 4, 22: 5, 23: 5, 24: 4, 25: 4, 26: 5, 27: 4, 28: 4, 29: 5, 30: 4, 31: 3, 32: 4, 33: 4}
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="segue-a-special-kind-of-path">
<h3>Segue: A special kind of “path”<a class="headerlink" href="#segue-a-special-kind-of-path" title="Link to this heading">#</a></h3>
<p>Remember from above: The number of paths of length <span class="math notranslate nohighlight">\(l\)</span> between two nodes <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span> in a graph can be found in the <span class="math notranslate nohighlight">\(ij^{th}\)</span> element of the <span class="math notranslate nohighlight">\(l^{th}\)</span> power of the adjacency matrix <span class="math notranslate nohighlight">\(A\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">to_numpy_array</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 1., 1., ..., 1., 0., 0.],
       [1., 0., 1., ..., 0., 0., 0.],
       [1., 1., 0., ..., 0., 1., 0.],
       ...,
       [1., 0., 0., ..., 0., 1., 1.],
       [0., 0., 1., ..., 1., 0., 1.],
       [0., 0., 0., ..., 1., 1., 0.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># recall that matrix multiplication in numpy is done as follows:</span>
<span class="n">A</span> <span class="o">@</span> <span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[16.,  7.,  5., ...,  0.,  3.,  4.],
       [ 7.,  9.,  4., ...,  1.,  2.,  3.],
       [ 5.,  4., 10., ...,  3.,  1.,  6.],
       ...,
       [ 0.,  1.,  3., ...,  6.,  1.,  2.],
       [ 3.,  2.,  1., ...,  1., 12., 10.],
       [ 4.,  3.,  6., ...,  2., 10., 17.]])
</pre></div>
</div>
</div>
</div>
<p>Take a moment to interpret what this is showing.</p>
<ul class="simple">
<li><p>What do the diagonal elements correspond to?</p></li>
<li><p>What do the off-diagonal elements correspond to?</p></li>
<li><p>Is this matrix symmetric?</p></li>
</ul>
<p>What if we take the third power, <span class="math notranslate nohighlight">\(A^3\)</span>, of the adjacency matrix?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">@</span> <span class="n">A</span> <span class="o">@</span> <span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[36., 37., 42., ..., 27., 12., 14.],
       [37., 24., 34., ..., 13., 11., 13.],
       [42., 34., 22., ..., 13., 32., 22.],
       ...,
       [27., 13., 13., ...,  6., 31., 36.],
       [12., 11., 32., ..., 31., 26., 40.],
       [14., 13., 22., ..., 36., 40., 30.]])
</pre></div>
</div>
</div>
</div>
<p>How does this operation relate to the <code class="docutils literal notranslate"><span class="pre">networkx</span></code> function <code class="docutils literal notranslate"><span class="pre">nx.triangles</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="clustering">
<h2>Clustering<a class="headerlink" href="#clustering" title="Link to this heading">#</a></h2>
<p>Node degree tells us how many neighbors each vertex has. However, we might also want to know how one node’s neighbors are related to each other. We can intuit this by imagining paths of length three in our graph. The concept of <em><strong>clustering</strong></em> (or <em>transitivity</em> in the context of sociology) refers exaclty to this: the tendency for nodes to form cliques around a given vertex.</p>
<section id="local-clustering">
<h3>Local Clustering<a class="headerlink" href="#local-clustering" title="Link to this heading">#</a></h3>
<p>Given an <em><strong>undirected</strong></em> graph <span class="math notranslate nohighlight">\(G=(V,E)\)</span>, let us define the <em><strong>local clustering coefficient</strong></em> as the probability that any two neighbors <span class="math notranslate nohighlight">\(j\)</span> and <span class="math notranslate nohighlight">\(k\)</span> of node <span class="math notranslate nohighlight">\(i\)</span> are connected:</p>
<div class="math notranslate nohighlight">
\[\begin{split} C(i) = 
\begin{cases}
    \frac{e_i}{k_i(k_i-1)/2}       &amp; \quad \text{if } k_{i}&gt;1\\
    0                              &amp; \quad \text{if } k_{i}\leq 1\\
\end{cases},
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(k_i\)</span> is the degree of node <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(e_i\)</span> the number of edges that exists between the neighbors of node <span class="math notranslate nohighlight">\(i\)</span>. In other words, the clustering coefficient of a node represents the ratio between the number of triangles in the subgraph <span class="math notranslate nohighlight">\(G'\)</span> induced by node <span class="math notranslate nohighlight">\(i\)</span> and its neighbors over the number of all possible triangles that would be present if <span class="math notranslate nohighlight">\(G'\)</span> was a complete graph.</p>
<p>The average clustering coefficient of a network, then, is simply: <span class="math notranslate nohighlight">\(\langle C \rangle = \frac{1}{N}\sum_i C(i)\)</span>.</p>
<p>In <em><strong>directed</strong></em> graphs, the definition of clustering can be further refined since 8 different types of triangles can be present in our graph; see <a class="reference external" href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.76.026107">Fagiolo (2007)</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Step 1: Select a random node, i</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Step 2: Get all the neighbors of node i</span>
<span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># Step 3: How do we get all the ***possible*** triangles?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;dict_keyiterator at 0x7fb78a2301d0&gt;
</pre></div>
</div>
</div>
</div>
<section id="interlude-itertools-functions-creating-iterators-for-efficient-looping">
<h4>Interlude: <code class="docutils literal notranslate"><span class="pre">itertools</span></code> — Functions creating iterators for efficient looping<a class="headerlink" href="#interlude-itertools-functions-creating-iterators-for-efficient-looping" title="Link to this heading">#</a></h4>
<p>This module implements a number of iterator building blocks inspired by constructs from APL, Haskell, and SML. Each has been recast in a form suitable for Python.</p>
<p>The module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an “iterator algebra” making it possible to construct specialized tools succinctly and efficiently in pure Python.</p>
<p>Source: <a class="reference external" href="https://docs.python.org/3/library/itertools.html">https://docs.python.org/3/library/itertools.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">combinations</span> <span class="c1"># Return successive r-length combinations of elements in the iterable.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">1</span>

<span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(1,), (2,), (3,), (4,), (5,)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(1, 2),
 (1, 3),
 (1, 4),
 (1, 5),
 (2, 3),
 (2, 4),
 (2, 5),
 (3, 4),
 (3, 5),
 (4, 5)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">neighbors_i</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node_i</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;node </span><span class="si">%i</span><span class="s2"> is connected to nodes:&quot;</span><span class="o">%</span><span class="k">node_i</span>,neighbors_i)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>node 0 is connected to nodes: [1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 17, 19, 21, 31]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">possible_triangle_edges_i</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">neighbors_i</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The potential neighbor-neighbor edges among node </span><span class="si">%i</span><span class="s2">&#39;s neighbors is:&quot;</span><span class="o">%</span><span class="k">node_i</span>,
      <span class="n">possible_triangle_edges_i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">(length = </span><span class="si">%i</span><span class="s1">)&#39;</span><span class="o">%</span><span class="k">len</span>(possible_triangle_edges_i))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The potential neighbor-neighbor edges among node 0&#39;s neighbors is: [(1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (1, 10), (1, 11), (1, 12), (1, 13), (1, 17), (1, 19), (1, 21), (1, 31), (2, 3), (2, 4), (2, 5), (2, 6), (2, 7), (2, 8), (2, 10), (2, 11), (2, 12), (2, 13), (2, 17), (2, 19), (2, 21), (2, 31), (3, 4), (3, 5), (3, 6), (3, 7), (3, 8), (3, 10), (3, 11), (3, 12), (3, 13), (3, 17), (3, 19), (3, 21), (3, 31), (4, 5), (4, 6), (4, 7), (4, 8), (4, 10), (4, 11), (4, 12), (4, 13), (4, 17), (4, 19), (4, 21), (4, 31), (5, 6), (5, 7), (5, 8), (5, 10), (5, 11), (5, 12), (5, 13), (5, 17), (5, 19), (5, 21), (5, 31), (6, 7), (6, 8), (6, 10), (6, 11), (6, 12), (6, 13), (6, 17), (6, 19), (6, 21), (6, 31), (7, 8), (7, 10), (7, 11), (7, 12), (7, 13), (7, 17), (7, 19), (7, 21), (7, 31), (8, 10), (8, 11), (8, 12), (8, 13), (8, 17), (8, 19), (8, 21), (8, 31), (10, 11), (10, 12), (10, 13), (10, 17), (10, 19), (10, 21), (10, 31), (11, 12), (11, 13), (11, 17), (11, 19), (11, 21), (11, 31), (12, 13), (12, 17), (12, 19), (12, 21), (12, 31), (13, 17), (13, 19), (13, 21), (13, 31), (17, 19), (17, 21), (17, 31), (19, 21), (19, 31), (21, 31)] 

(length = 120)
</pre></div>
</div>
</div>
</div>
<p>Recall above: How many possible edges should we expect based on the equation above?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">k_i</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">node_i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">k_i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># according to the equation above, we know the denominator should be k_i(k_i-1)/2</span>
<span class="n">possible_triangles_i</span> <span class="o">=</span> <span class="n">k_i</span> <span class="o">*</span> <span class="p">(</span><span class="n">k_i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="n">possible_triangles_i</span>

<span class="c1"># what is the numerator? **the number of edges between nodes that are neighbors of node_i**</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>120.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">actual_triangles_i</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">neigh_i</span><span class="p">,</span><span class="n">neigh_j</span> <span class="ow">in</span> <span class="n">possible_triangle_edges_i</span>
                          <span class="k">if</span> <span class="n">neigh_j</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">neigh_i</span><span class="p">)])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clustering_i</span> <span class="o">=</span> <span class="n">actual_triangles_i</span><span class="o">/</span><span class="n">possible_triangles_i</span>
<span class="n">clustering_i</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">clustering</span><span class="p">(</span><span class="n">G</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clustering_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">node_i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="n">k_i</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">node_i</span><span class="p">)</span>
    <span class="n">neighbors_i</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node_i</span><span class="p">))</span>

    <span class="n">possible_triangle_edges_i</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">neighbors_i</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">possible_triangles_i</span> <span class="o">=</span> <span class="n">k_i</span> <span class="o">*</span> <span class="p">(</span><span class="n">k_i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">actual_triangles_i</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">neigh_i</span><span class="p">,</span><span class="n">neigh_j</span> <span class="ow">in</span> <span class="n">possible_triangle_edges_i</span>
                              <span class="k">if</span> <span class="n">neigh_j</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">neigh_i</span><span class="p">)])</span>
    
    <span class="k">if</span> <span class="n">possible_triangles_i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">clustering_i</span> <span class="o">=</span> <span class="n">actual_triangles_i</span><span class="o">/</span><span class="n">possible_triangles_i</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clustering_i</span> <span class="o">=</span> <span class="mf">0.0</span>
    
    <span class="n">clustering_dict</span><span class="p">[</span><span class="n">node_i</span><span class="p">]</span> <span class="o">=</span> <span class="n">clustering_i</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clustering_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: 0.15,
 1: 0.3333333333333333,
 2: 0.24444444444444444,
 3: 0.6666666666666666,
 4: 0.6666666666666666,
 5: 0.5,
 6: 0.5,
 7: 1.0,
 8: 0.5,
 9: 0.0,
 10: 0.6666666666666666,
 11: 0.0,
 12: 1.0,
 13: 0.6,
 14: 1.0,
 15: 1.0,
 16: 1.0,
 17: 1.0,
 18: 1.0,
 19: 0.3333333333333333,
 20: 1.0,
 21: 1.0,
 22: 1.0,
 23: 0.4,
 24: 0.3333333333333333,
 25: 0.3333333333333333,
 26: 1.0,
 27: 0.16666666666666666,
 28: 0.3333333333333333,
 29: 0.6666666666666666,
 30: 0.5,
 31: 0.2,
 32: 0.19696969696969696,
 33: 0.11029411764705882}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">clustering</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: 0.15,
 1: 0.3333333333333333,
 2: 0.24444444444444444,
 3: 0.6666666666666666,
 4: 0.6666666666666666,
 5: 0.5,
 6: 0.5,
 7: 1.0,
 8: 0.5,
 9: 0,
 10: 0.6666666666666666,
 11: 0,
 12: 1.0,
 13: 0.6,
 14: 1.0,
 15: 1.0,
 16: 1.0,
 17: 1.0,
 18: 1.0,
 19: 0.3333333333333333,
 20: 1.0,
 21: 1.0,
 22: 1.0,
 23: 0.4,
 24: 0.3333333333333333,
 25: 0.3333333333333333,
 26: 1.0,
 27: 0.16666666666666666,
 28: 0.3333333333333333,
 29: 0.6666666666666666,
 30: 0.5,
 31: 0.2,
 32: 0.19696969696969696,
 33: 0.11029411764705882}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">clustering_dict</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5706384782076823
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">average_clustering</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5706384782076823
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="global-clustering">
<h3>Global Clustering<a class="headerlink" href="#global-clustering" title="Link to this heading">#</a></h3>
<p>The <em><strong>global clustering coefficient</strong></em> measures the total number of closed triangles in a network relative to the number of existing connected triplets (i.e. the number of not closed triangles):</p>
<div class="math notranslate nohighlight">
\[ C_{\Delta} = \frac{3\text{ x Number of Triangles}}{\text{Number of Connected Triplets}}\]</div>
<p>where a <strong>connected triplet</strong> is an ordered set of three vertices.</p>
<p><code class="docutils literal notranslate"><span class="pre">networkx</span></code> has a function for this! It’s (depending on your scholarly background) counter-intuitively named <code class="docutils literal notranslate"><span class="pre">nx.transitivity</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">transitivity</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.2556818181818182
</pre></div>
</div>
</div>
</div>
<p>How can we compute this from scratch using what we know about graph properties so far?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A3</span> <span class="o">=</span> <span class="n">A</span><span class="nd">@A@A</span>
<span class="n">A3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[36., 37., 42., ..., 27., 12., 14.],
       [37., 24., 34., ..., 13., 11., 13.],
       [42., 34., 22., ..., 13., 32., 22.],
       ...,
       [27., 13., 13., ...,  6., 31., 36.],
       [12., 11., 32., ..., 31., 26., 40.],
       [14., 13., 22., ..., 36., 40., 30.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_triangles</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">A3</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num_triangles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>45
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">degrees</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span>
<span class="n">connected_triplets</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">deg</span> <span class="o">*</span> <span class="p">(</span><span class="n">deg</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">deg</span> <span class="ow">in</span> <span class="n">degrees</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">connected_triplets</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>528
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_clustering</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">num_triangles</span> <span class="o">/</span> <span class="n">connected_triplets</span>
<span class="nb">print</span><span class="p">(</span><span class="n">global_clustering</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.2556818181818182
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="your-turn">
<h4>Your turn!<a class="headerlink" href="#your-turn" title="Link to this heading">#</a></h4>
<p>Graphs sampled from <span class="math notranslate nohighlight">\(G(N,p)\)</span> do not have clustering. Why is that?</p>
<p>The average clustering coefficient in <span class="math notranslate nohighlight">\(G(N,p)\)</span> is <span class="math notranslate nohighlight">\( \langle C \rangle = p = \frac{\langle k \rangle}{N}. \)</span> Show this numerically.</p>
<p>(Warning: The code block below takes a few minutes to run…)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">ps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">niter</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">clustering</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">niter</span><span class="p">):</span>
        <span class="n">G_i</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">erdos_renyi_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
        <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">transitivity</span><span class="p">(</span><span class="n">G_i</span><span class="p">))</span>
    
    <span class="n">clustering</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">tmp</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">ps</span><span class="p">,</span> <span class="n">clustering</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;empirical average&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">ps</span><span class="p">,</span> <span class="n">ps</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$\langle C \rangle = p$&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p$&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\langle C \rangle$&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Clustering in $G(N,p)$&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/358048b68f53ed5d32c4157bb74d8b03c072fd5d703654772c413b092f8516d3.png" src="../../_images/358048b68f53ed5d32c4157bb74d8b03c072fd5d703654772c413b092f8516d3.png" />
</div>
</div>
</section>
<hr class="docutils" />
<section id="want-more-in-your-own-time">
<h4>Want more? In your own time…<a class="headerlink" href="#want-more-in-your-own-time" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>The <strong>weighted clustering</strong> of node <span class="math notranslate nohighlight">\(i\)</span> in an undirected weighted graph <span class="math notranslate nohighlight">\(G\)</span> can be defined as:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[ C^w(i) = \frac{1}{s_i(k_i-1)} \sum_{j=1}^N\sum_{h=1}^N \frac{w_{ij} + w_{ih}}{2}A_{ij}A_{ih}A_{jh} \]</div>
<p>where <span class="math notranslate nohighlight">\(s_i\)</span> is the <em>stength</em> of node <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(k_i\)</span> is the degree of node <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_{ij}\)</span> is the weight associated to the edge connecting nodes <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>.</p>
<p>Write a function that computes the weighted clusterings <span class="math notranslate nohighlight">\(C^w(i)\)</span> for all nodes in an undirected weighted graph.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<ol class="arabic simple" start="2">
<li><p>Use a <em>depth-first search</em> (DFS) to find connected components in a graph.</p></li>
</ol>
<p>Below is an example of the order that nodes are searched in DFS.</p>
<p><img alt="https://upload.wikimedia.org/wikipedia/commons/1/1f/Depth-first-tree.svg" src="https://upload.wikimedia.org/wikipedia/commons/1/1f/Depth-first-tree.svg" /></p>
<p>And a helpful gif:
<img alt="../../images/DFS.gif" src="../../_images/DFS.gif" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<!-- ### Graph Components

A graph is said to be __connected__ if there exists a path connecting any two vertices in the graph.

An undirected and connected graph without closed loops is also a __tree__. 

A __component__ $C$ of a graph $G=(V,E)$ is defined as a connected subgraph of $G$. The __giant component__ of a graph is defined as the component whose size scales with the number of vertices of the graph (i.e. it diverges in the limit $N\rightarrow\infty$).

In a _directed graph_, a ___weakly connected component___ is the connected subgraph where we consider all paths disregarding the direction of the edges and considering the graph _as if_ it were undirected. Instead, a ___strongly connected component___ is the connected subgraph when we do consider the directionality of the links. 

Also the definition of the giant component changes in the directed graphs. Let us define the __giant weakly connected component__ (GWCC) as the giant component of the directed graph if we do not consider the directed nature of the edges. Then, we can decompose the GWCC into:
* a __giant strongly connected component__ (GSCC) in which there exists a directed edge joining any pair of nodes in the GWCC;
* a __giant in-component__ (GIN) formed by the nodes from which it is possible to reach the GSCC by means of a directed path;
* a __giant out-component__ (GOUT) formed by the nodes that it is possible to reach from the GSCC by means of a directed path;
* __tendrils__ formed by nodes for which it does not exist a directed path that allows them to reach the GSCC, or to be reached from the GSCC;
* __tubes__ formed by nodes that belong to a directed path connecting GIN to GOUT without crossing the GSCC.

<img src="./img/bowtie.png" alt="bowtie" width="300">



The first question we generally ask about navigation is: can we construct a path between any pair of nodes in the network? There are actually two questions combined into one here: is it possible *in principle* to build such a path?, and can we actually *find* such a path if we know one exists?

The first question deals with the *connectedness* of a network. A network is *connected* if there exists a path between every pair of nodes, and *disconnected* otherwise. A disconnected network is really just the same as two networks side by side, of course, but it sometimes makes sense to consider these two "independent" networks to be part of "the same" network. A good example is the street plan of Greater New York, which we might consider to be one big network but which is composed of several sub-networks disconnected by New York harbour into the street plan of Manhatten, the street plan of Staten Island, and so forth.

We refer to the parts of a network that are connected as the *components* of the network, and it is by definition possible to find a path between any pair of nodes within the same component. (And, also by definition, impossible to find a path between two nodes in different components.)

This brings us to the second question above &ndash; finding paths even when we know they exist &ndash; and this is, perhaps surprisingly, not a question that's always easily answered. In the mesh we've been considering, it's easy to see how to construct a path between any pair of nodes: go "across" the rows until the appropriate column, and then "up" (or "down") to the appropriate row. This is sometimes called *Manhatten routing*, and is an algorithm that will be familiar to anyone who's ever visited a major American city. It is probably most notable for *not* working in non-mesh-like cities such as are found in much of Europe (and in smaller, older, American towns &ndash; or indeed in the older parts of New York), where the network of streets is more complex.

In a network with a more complex structure, it will clearly be considerably harder to find a path. Put another way, an algorithm like Manhatten routing lets us define the path between two nodes, but there may not *be* an algorithm for other classes of network. Fortunately we often don't need to be able to find specific paths: it's enough to know that they exist (or don't) in principle &ndash; or even, sometimes, that they *probably* exist (or don't).



___

Let's return to [paths](#concepts_paths_paths) in a more global sense. For any pair of nodes there will often be multiple paths between them, some longer and some shorter. The *shortest path* between two nodes is clearly of some significance: it's the "quickest route" between two points in the network. There may be several paths with the same length, in which case they would all be "shortest", but typically there is one that's shorter than the rest. By definition this path will not be self-intersecting, and will be the network equivalent of a "straight line" between the two nodes concerned. --></section>
</section>
</section>
<hr class="docutils" />
<section id="next-time">
<h2>Next time…<a class="headerlink" href="#next-time" title="Link to this heading">#</a></h2>
<p>Degree, path lengths, triangles: these are all different ways to understand an individual node’s role/status/importance in networks. Next time, we’ll start to ask about distributions of network properties &amp; explore even more centralities! <code class="docutils literal notranslate"><span class="pre">class_04_distributions.ipynb</span></code></p>
</section>
<hr class="docutils" />
<section id="references-and-further-resources">
<h2>References and further resources:<a class="headerlink" href="#references-and-further-resources" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Class Webpages</p>
<ul class="simple">
<li><p>Jupyter Book: <a class="reference external" href="https://network-science-data-and-models.github.io/phys7332_fa25/README.html">https://network-science-data-and-models.github.io/phys7332_fa25/README.html</a></p></li>
<li><p>Github: <a class="github reference external" href="https://github.com/network-science-data-and-models/phys7332_fa25/">network-science-data-and-models/phys7332_fa25</a></p></li>
<li><p>Syllabus and course details: <a class="reference external" href="https://brennanklein.com/phys7332-fall25">https://brennanklein.com/phys7332-fall25</a></p></li>
</ul>
</li>
<li><p>Fagiolo, G. (2007). Clustering in complex directed networks. <em>Physical Review E</em>, 76(2), 026107.</p></li>
<li><p>Network Science textbook (<a class="reference external" href="https://networksciencebook.com/">https://networksciencebook.com/</a>).</p></li>
<li><p>Watts, D.J. &amp; Strogatz, S.H. (1998). Collective dynamics of ‘small-world’ networks. <em>Nature</em>, 393: 409–10.</p></li>
</ol>
<hr class="docutils" />
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/class_03"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../class_02/class_02_networkx1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Class 2: Introduction to Networkx 1 — Graph Objects, Properties, Importing Data</p>
      </div>
    </a>
    <a class="right-next"
       href="../class_04/class_04_distributions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Class 4: Distributions of Network Properties &amp; Centralities</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#degree-distributions">Degree Distributions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#erdos-renyi-networks">Erdős-Rényi Networks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-random-graphs">Beyond Random Graphs</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#recall-from-our-last-class">Recall, from our last class:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#step-by-step-way-to-make-this-network">Step-by-step way to make this network:</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-the-class-out-with-a-challenge">Starting the class out with a challenge</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-degree-distributions">Plotting Degree Distributions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#note-from-advanced-topics-4b-in-network-science-by-laszlo-barabasi">Note from Advanced Topics 4b in <em>Network Science</em> by Lászlo Barabási</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-network-generator-functions-from-last-class">Using the network generator functions from last class…</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#paths-and-components">Paths and Components</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#breadth-first-search-bfs">Breadth-first search (BFS)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#putting-it-all-together">Putting it all together</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#from-above">From above:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segue-a-special-kind-of-path">Segue: A special kind of “path”</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering">Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#local-clustering">Local Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interlude-itertools-functions-creating-iterators-for-efficient-looping">Interlude: <code class="docutils literal notranslate"><span class="pre">itertools</span></code> — Functions creating iterators for efficient looping</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#global-clustering">Global Clustering</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#your-turn">Your turn!</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#want-more-in-your-own-time">Want more? In your own time…</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-time">Next time…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-resources">References and further resources:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brennan Klein
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>