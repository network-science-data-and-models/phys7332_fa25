
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Class 12: Visualization 1 â€” Python &#8212; PHYS 7332: Network Science Data &amp; Models (Fall 2025)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/class_12/class_12_visualization_python';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Class 13: Visualization 2 â€” Advanced Python" href="../class_13/class_13_visualization_python.html" />
    <link rel="prev" title="Class 09: Clustering &amp; Community Detection 2 â€” Contemporary" href="../class_09/class_09_communities2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
  
  
    <p class="title logo__title">PHYS 7332: Network Science Data & Models (Fall 2025)</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    PHYSÂ 7332: Network Science Data & Models â€“ FallÂ 2025
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../class_00/class_00_github_computing_setup.html">ClassÂ 00: Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_01/class_01_python_refresher.html">ClassÂ 01: Python Refresher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_02/class_02_networkx1.html">ClassÂ 02: Introduction to Networkx 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_03/class_03_networkx2.html">ClassÂ 03: Introduction to Networkx 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_04/class_04_distributions.html">ClassÂ 04: Distributions of Network Properties &amp; Centralities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_05/class_05_scraping1.html">ClassÂ 05: Scraping Web Data 1 - BeautifulSoup &amp; HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_06/class_06_data_science_and_sql.html">ClassÂ 06: Data Science 1 â€” Pandas, SQL, Regressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_07/class_07_creating_a_network_from_sql_tables.html">ClassÂ 07: Data Science 2 â€” SQL for Network Construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_08/class_08_communities1.html">ClassÂ 08: Clustering &amp; Community Detection 1 â€”Â Traditional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_09/class_09_communities2.html">ClassÂ 09: Clustering &amp; Community Detection 2 â€” Contemporary</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Class 12: Visualization 1 â€” Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_13/class_13_visualization_python.html">Class 13: Visualization 2 â€” Advanced Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_14/class_14_graph_machine_learning_1.html">Class 14: Graph Machine Learning 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_15/class_15_graph_ml_2.html">Class 15: Graph Machine Learning 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_16/class_16_dynamics1.html">Class 16: Dynamics 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_17/class_17_dynamics2.html">Class 17: Dynamics 2</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/network-science-data-and-models/phys7332_fa25" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/network-science-data-and-models/phys7332_fa25/issues/new?title=Issue%20on%20page%20%2Fnotebooks/class_12/class_12_visualization_python.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/class_12/class_12_visualization_python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Class 12: Visualization 1 â€” Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-the-class-with-a-challenge">ðŸš¨ Starting the class with a challenge ðŸš¨</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#color">Color</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulating-colorblindness-and-color-anomalous-viewers">Simulating colorblindness and color-anomalous viewers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#network-visualization-theory">Network visualization - Theory</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-synthetic-data-network-generative-models">Plotting synthetic data: Network generative models</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#network-visualization-data">Network visualization - Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mystery-network-from-above-the-u-s-commute-network">1. Mystery network from above: The U.S. Commute Network</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#polysemy-in-networks">2. Polysemy in Networks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-multilayer-network-visualization">Bonus - Multilayer Network Visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-time">Next timeâ€¦</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-resources">References and further resources:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="class-12-visualization-1-python">
<h1>Class 12: Visualization 1 â€” Python<a class="headerlink" href="#class-12-visualization-1-python" title="Link to this heading">#</a></h1>
<p>Goal of todayâ€™s class:</p>
<ol class="arabic simple">
<li><p>Explore generic data visualization with matplotlib</p></li>
<li><p>Offer tips about network visualization with networkx and matplotlib</p></li>
<li><p>Visualize different network datasets from papers</p></li>
</ol>
<hr class="docutils" />
<ol class="arabic simple">
<li><p>Come in. Sit down. Open Teams.</p></li>
<li><p>Find your notebook in your /Class_12/ folder.</p></li>
</ol>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">itertools</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">it</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">networkx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nx</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.patheffects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">path_effects</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.gridspec</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">rc</span>

<span class="c1"># rc(&#39;font&#39;, **{&#39;family&#39;:&#39;serif&#39;,&#39;serif&#39;:[&#39;Palatino&#39;]}) # if you want serif fonts, uncomment this</span>
<span class="c1"># rc(&#39;text&#39;, usetex=True) # use latex fonts </span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">axisbelow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;savefig&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="starting-the-class-with-a-challenge">
<h2>ðŸš¨ Starting the class with a challenge ðŸš¨<a class="headerlink" href="#starting-the-class-with-a-challenge" title="Link to this heading">#</a></h2>
<p><strong>You have 10 minutes, starting now.</strong></p>
<p>In the data folder, youâ€™ll find <code class="docutils literal notranslate"><span class="pre">data/mystery.pickle</span></code>. Working alone, import the data using the code below, and create some sort of visualization of the data. It can be a network or other types of data visualization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/mystery.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    <span class="n">mystery_network</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here!</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<p>This task isnâ€™t meant to evaluate how well you can visualize some random datasetâ€¦ itâ€™s designed to highlight what visual features you <strong>prioritize</strong> under time constraints. Things like:</p>
<ul class="simple">
<li><p>Color</p></li>
<li><p>Text</p></li>
<li><p>Emphasis on specific features</p></li>
<li><p>Informativeness</p></li>
<li><p>Qualitative vs. quantitative features</p></li>
<li><p>etc.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="color">
<h2>Color<a class="headerlink" href="#color" title="Link to this heading">#</a></h2>
<p>Color is one of the most powerful tools in data visualization. It allows us to communicate complex information quickly and effectively, but it also carries significant responsibility. The choice of colors can greatly affect the clarity, accessibility, and impact of visualizations. When colors are misused, they can distort the message or exclude viewers, particularly those with color vision deficiencies. In the documentation for <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, thereâ€™s a <a class="reference external" href="https://matplotlib.org/stable/users/explain/colors/colors.html">great background on color</a>!</p>
<p><img alt="" src="../../_images/matplotlibcolors.png" /></p>
<p>In this lesson, we focus on the importance of using color thoughtfully in data visualizations, including:</p>
<ul class="simple">
<li><p>Understand how different colors interact with one another.</p></li>
<li><p>Learn to choose colors that ensure accessibility for people with colorblindness.</p></li>
<li><p>Explore properties such as lightness, hue, and saturation to create visualizations that are aesthetically pleasing and easy to interpret.</p></li>
<li><p>Practice converting between color formats to work efficiently across various platforms and visualization tools.</p></li>
<li><p>By the end of this lesson, you will be able to apply these concepts to create more effective, inclusive, and professional data visualizations that enhance the storytelling power of your data.</p></li>
</ul>
<hr class="docutils" />
<section id="simulating-colorblindness-and-color-anomalous-viewers">
<h3>Simulating colorblindness and color-anomalous viewers<a class="headerlink" href="#simulating-colorblindness-and-color-anomalous-viewers" title="Link to this heading">#</a></h3>
<p>This section provides a tool for analyzing and visualizing colors. It lets you explore various color properties such as lightness, hue, and saturation. Also, this code will let you simulate how colors appear to individuals with different types of colorblindness, offering insights into accessibility and color design considerations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">namedColors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;aliceblue&#39;</span><span class="p">:</span><span class="s1">&#39;#f0f8ff&#39;</span><span class="p">,</span> <span class="s1">&#39;antiquewhite&#39;</span><span class="p">:</span><span class="s1">&#39;#faebd7&#39;</span><span class="p">,</span> <span class="s1">&#39;aqua&#39;</span><span class="p">:</span><span class="s1">&#39;#0ff&#39;</span><span class="p">,</span>
               <span class="s1">&#39;aquamarine&#39;</span><span class="p">:</span><span class="s1">&#39;#7fffd4&#39;</span><span class="p">,</span> <span class="s1">&#39;azure&#39;</span><span class="p">:</span><span class="s1">&#39;#f0ffff&#39;</span><span class="p">,</span> <span class="s1">&#39;beige&#39;</span><span class="p">:</span><span class="s1">&#39;#f5f5dc&#39;</span><span class="p">,</span> <span class="s1">&#39;bisque&#39;</span><span class="p">:</span><span class="s1">&#39;#ffe4c4&#39;</span><span class="p">,</span>
               <span class="s1">&#39;black&#39;</span><span class="p">:</span><span class="s1">&#39;#000&#39;</span><span class="p">,</span> <span class="s1">&#39;blanchedalmond&#39;</span><span class="p">:</span><span class="s1">&#39;#ffebcd&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span><span class="s1">&#39;#00f&#39;</span><span class="p">,</span> <span class="s1">&#39;blueviolet&#39;</span><span class="p">:</span><span class="s1">&#39;#8a2be2&#39;</span><span class="p">,</span>
               <span class="s1">&#39;brown&#39;</span><span class="p">:</span><span class="s1">&#39;#a52a2a&#39;</span><span class="p">,</span> <span class="s1">&#39;burlywood&#39;</span><span class="p">:</span><span class="s1">&#39;#deb887&#39;</span><span class="p">,</span> <span class="s1">&#39;cadetblue&#39;</span><span class="p">:</span><span class="s1">&#39;#5f9ea0&#39;</span><span class="p">,</span> <span class="s1">&#39;chartreuse&#39;</span><span class="p">:</span><span class="s1">&#39;#7fff00&#39;</span><span class="p">,</span>
               <span class="s1">&#39;chocolate&#39;</span><span class="p">:</span><span class="s1">&#39;#d2691e&#39;</span><span class="p">,</span> <span class="s1">&#39;coral&#39;</span><span class="p">:</span><span class="s1">&#39;#ff7f50&#39;</span><span class="p">,</span> <span class="s1">&#39;cornflowerblue&#39;</span><span class="p">:</span><span class="s1">&#39;#6495ed&#39;</span><span class="p">,</span> <span class="s1">&#39;cornsilk&#39;</span><span class="p">:</span><span class="s1">&#39;#fff8dc&#39;</span><span class="p">,</span>
               <span class="s1">&#39;crimson&#39;</span><span class="p">:</span><span class="s1">&#39;#dc143c&#39;</span><span class="p">,</span> <span class="s1">&#39;cyan&#39;</span><span class="p">:</span><span class="s1">&#39;#0ff&#39;</span><span class="p">,</span> <span class="s1">&#39;darkblue&#39;</span><span class="p">:</span><span class="s1">&#39;#00008b&#39;</span><span class="p">,</span> <span class="s1">&#39;darkcyan&#39;</span><span class="p">:</span><span class="s1">&#39;#008b8b&#39;</span><span class="p">,</span>
               <span class="s1">&#39;darkgoldenrod&#39;</span><span class="p">:</span><span class="s1">&#39;#b8860b&#39;</span><span class="p">,</span> <span class="s1">&#39;darkgray&#39;</span><span class="p">:</span><span class="s1">&#39;#a9a9a9&#39;</span><span class="p">,</span> <span class="s1">&#39;darkgrey&#39;</span><span class="p">:</span><span class="s1">&#39;#a9a9a9&#39;</span><span class="p">,</span> <span class="s1">&#39;darkgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#006400&#39;</span><span class="p">,</span>
               <span class="s1">&#39;darkkhaki&#39;</span><span class="p">:</span><span class="s1">&#39;#bdb76b&#39;</span><span class="p">,</span> <span class="s1">&#39;darkmagenta&#39;</span><span class="p">:</span><span class="s1">&#39;#8b008b&#39;</span><span class="p">,</span> <span class="s1">&#39;darkolivegreen&#39;</span><span class="p">:</span><span class="s1">&#39;#556b2f&#39;</span><span class="p">,</span> <span class="s1">&#39;darkorange&#39;</span><span class="p">:</span><span class="s1">&#39;#ff8c00&#39;</span><span class="p">,</span>
               <span class="s1">&#39;darkorchid&#39;</span><span class="p">:</span><span class="s1">&#39;#9932cc&#39;</span><span class="p">,</span> <span class="s1">&#39;darkred&#39;</span><span class="p">:</span><span class="s1">&#39;#8b0000&#39;</span><span class="p">,</span> <span class="s1">&#39;darksalmon&#39;</span><span class="p">:</span><span class="s1">&#39;#e9967a&#39;</span><span class="p">,</span> <span class="s1">&#39;darkseagreen&#39;</span><span class="p">:</span><span class="s1">&#39;#8fbc8f&#39;</span><span class="p">,</span>
               <span class="s1">&#39;darkslateblue&#39;</span><span class="p">:</span><span class="s1">&#39;#483d8b&#39;</span><span class="p">,</span> <span class="s1">&#39;darkslategray&#39;</span><span class="p">:</span><span class="s1">&#39;#2f4f4f&#39;</span><span class="p">,</span> <span class="s1">&#39;darkslategrey&#39;</span><span class="p">:</span><span class="s1">&#39;#2f4f4f&#39;</span><span class="p">,</span>
               <span class="s1">&#39;darkturquoise&#39;</span><span class="p">:</span><span class="s1">&#39;#00ced1&#39;</span><span class="p">,</span> <span class="s1">&#39;darkviolet&#39;</span><span class="p">:</span><span class="s1">&#39;#9400d3&#39;</span><span class="p">,</span> <span class="s1">&#39;deeppink&#39;</span><span class="p">:</span><span class="s1">&#39;#ff1493&#39;</span><span class="p">,</span> <span class="s1">&#39;deepskyblue&#39;</span><span class="p">:</span><span class="s1">&#39;#00bfff&#39;</span><span class="p">,</span>
               <span class="s1">&#39;dimgray&#39;</span><span class="p">:</span><span class="s1">&#39;#696969&#39;</span><span class="p">,</span> <span class="s1">&#39;dimgrey&#39;</span><span class="p">:</span><span class="s1">&#39;#696969&#39;</span><span class="p">,</span> <span class="s1">&#39;dodgerblue&#39;</span><span class="p">:</span><span class="s1">&#39;#1e90ff&#39;</span><span class="p">,</span> <span class="s1">&#39;firebrick&#39;</span><span class="p">:</span><span class="s1">&#39;#b22222&#39;</span><span class="p">,</span>
               <span class="s1">&#39;floralwhite&#39;</span><span class="p">:</span><span class="s1">&#39;#fffaf0&#39;</span><span class="p">,</span> <span class="s1">&#39;forestgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#228b22&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">:</span><span class="s1">&#39;#f0f&#39;</span><span class="p">,</span> <span class="s1">&#39;gainsboro&#39;</span><span class="p">:</span><span class="s1">&#39;#dcdcdc&#39;</span><span class="p">,</span>
               <span class="s1">&#39;ghostwhite&#39;</span><span class="p">:</span><span class="s1">&#39;#f8f8ff&#39;</span><span class="p">,</span> <span class="s1">&#39;gold&#39;</span><span class="p">:</span><span class="s1">&#39;#ffd700&#39;</span><span class="p">,</span> <span class="s1">&#39;goldenrod&#39;</span><span class="p">:</span><span class="s1">&#39;#daa520&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">:</span><span class="s1">&#39;#808080&#39;</span><span class="p">,</span> <span class="s1">&#39;grey&#39;</span><span class="p">:</span><span class="s1">&#39;#808080&#39;</span><span class="p">,</span>
               <span class="s1">&#39;green&#39;</span><span class="p">:</span><span class="s1">&#39;#008000&#39;</span><span class="p">,</span> <span class="s1">&#39;greenyellow&#39;</span><span class="p">:</span><span class="s1">&#39;#adff2f&#39;</span><span class="p">,</span> <span class="s1">&#39;honeydew&#39;</span><span class="p">:</span><span class="s1">&#39;#f0fff0&#39;</span><span class="p">,</span> <span class="s1">&#39;hotpink&#39;</span><span class="p">:</span><span class="s1">&#39;#ff69b4&#39;</span><span class="p">,</span>
               <span class="s1">&#39;indianred&#39;</span><span class="p">:</span><span class="s1">&#39;#cd5c5c&#39;</span><span class="p">,</span> <span class="s1">&#39;indigo&#39;</span><span class="p">:</span><span class="s1">&#39;#4b0082&#39;</span><span class="p">,</span> <span class="s1">&#39;ivory&#39;</span><span class="p">:</span><span class="s1">&#39;#fffff0&#39;</span><span class="p">,</span> <span class="s1">&#39;khaki&#39;</span><span class="p">:</span><span class="s1">&#39;#f0e68c&#39;</span><span class="p">,</span> <span class="s1">&#39;lavender&#39;</span><span class="p">:</span><span class="s1">&#39;#e6e6fa&#39;</span><span class="p">,</span>
               <span class="s1">&#39;lavenderblush&#39;</span><span class="p">:</span><span class="s1">&#39;#fff0f5&#39;</span><span class="p">,</span> <span class="s1">&#39;lawngreen&#39;</span><span class="p">:</span><span class="s1">&#39;#7cfc00&#39;</span><span class="p">,</span> <span class="s1">&#39;lemonchiffon&#39;</span><span class="p">:</span><span class="s1">&#39;#fffacd&#39;</span><span class="p">,</span> <span class="s1">&#39;lightblue&#39;</span><span class="p">:</span><span class="s1">&#39;#add8e6&#39;</span><span class="p">,</span>
               <span class="s1">&#39;lightcoral&#39;</span><span class="p">:</span><span class="s1">&#39;#f08080&#39;</span><span class="p">,</span> <span class="s1">&#39;lightcyan&#39;</span><span class="p">:</span><span class="s1">&#39;#e0ffff&#39;</span><span class="p">,</span> <span class="s1">&#39;lightgoldenrodyellow&#39;</span><span class="p">:</span><span class="s1">&#39;#fafad2&#39;</span><span class="p">,</span> <span class="s1">&#39;lightgray&#39;</span><span class="p">:</span><span class="s1">&#39;#d3d3d3&#39;</span><span class="p">,</span>
               <span class="s1">&#39;lightgrey&#39;</span><span class="p">:</span><span class="s1">&#39;#d3d3d3&#39;</span><span class="p">,</span> <span class="s1">&#39;lightgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#90ee90&#39;</span><span class="p">,</span> <span class="s1">&#39;lightpink&#39;</span><span class="p">:</span><span class="s1">&#39;#ffb6c1&#39;</span><span class="p">,</span> <span class="s1">&#39;lightsalmon&#39;</span><span class="p">:</span><span class="s1">&#39;#ffa07a&#39;</span><span class="p">,</span>
               <span class="s1">&#39;lightseagreen&#39;</span><span class="p">:</span><span class="s1">&#39;#20b2aa&#39;</span><span class="p">,</span> <span class="s1">&#39;lightskyblue&#39;</span><span class="p">:</span><span class="s1">&#39;#87cefa&#39;</span><span class="p">,</span> <span class="s1">&#39;lightslategray&#39;</span><span class="p">:</span><span class="s1">&#39;#789&#39;</span><span class="p">,</span> <span class="s1">&#39;lightslategrey&#39;</span><span class="p">:</span><span class="s1">&#39;#789&#39;</span><span class="p">,</span>
               <span class="s1">&#39;lightsteelblue&#39;</span><span class="p">:</span><span class="s1">&#39;#b0c4de&#39;</span><span class="p">,</span> <span class="s1">&#39;lightyellow&#39;</span><span class="p">:</span><span class="s1">&#39;#ffffe0&#39;</span><span class="p">,</span> <span class="s1">&#39;lime&#39;</span><span class="p">:</span><span class="s1">&#39;#0f0&#39;</span><span class="p">,</span> <span class="s1">&#39;limegreen&#39;</span><span class="p">:</span><span class="s1">&#39;#32cd32&#39;</span><span class="p">,</span>
               <span class="s1">&#39;linen&#39;</span><span class="p">:</span><span class="s1">&#39;#faf0e6&#39;</span><span class="p">,</span> <span class="s1">&#39;magenta&#39;</span><span class="p">:</span><span class="s1">&#39;#f0f&#39;</span><span class="p">,</span> <span class="s1">&#39;maroon&#39;</span><span class="p">:</span><span class="s1">&#39;#800000&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumaquamarine&#39;</span><span class="p">:</span><span class="s1">&#39;#66cdaa&#39;</span><span class="p">,</span>
               <span class="s1">&#39;mediumblue&#39;</span><span class="p">:</span><span class="s1">&#39;#0000cd&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumorchid&#39;</span><span class="p">:</span><span class="s1">&#39;#ba55d3&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumpurple&#39;</span><span class="p">:</span><span class="s1">&#39;#9370d8&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumseagreen&#39;</span><span class="p">:</span><span class="s1">&#39;#3cb371&#39;</span><span class="p">,</span>
               <span class="s1">&#39;mediumslateblue&#39;</span><span class="p">:</span><span class="s1">&#39;#7b68ee&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumspringgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#00fa9a&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumturquoise&#39;</span><span class="p">:</span><span class="s1">&#39;#48d1cc&#39;</span><span class="p">,</span>
               <span class="s1">&#39;mediumvioletred&#39;</span><span class="p">:</span><span class="s1">&#39;#c71585&#39;</span><span class="p">,</span> <span class="s1">&#39;midnightblue&#39;</span><span class="p">:</span><span class="s1">&#39;#191970&#39;</span><span class="p">,</span> <span class="s1">&#39;mintcream&#39;</span><span class="p">:</span><span class="s1">&#39;#f5fffa&#39;</span><span class="p">,</span> <span class="s1">&#39;mistyrose&#39;</span><span class="p">:</span><span class="s1">&#39;#ffe4e1&#39;</span><span class="p">,</span>
               <span class="s1">&#39;moccasin&#39;</span><span class="p">:</span><span class="s1">&#39;#ffe4b5&#39;</span><span class="p">,</span> <span class="s1">&#39;navajowhite&#39;</span><span class="p">:</span><span class="s1">&#39;#ffdead&#39;</span><span class="p">,</span> <span class="s1">&#39;navy&#39;</span><span class="p">:</span><span class="s1">&#39;#000080&#39;</span><span class="p">,</span> <span class="s1">&#39;oldlace&#39;</span><span class="p">:</span><span class="s1">&#39;#fdf5e6&#39;</span><span class="p">,</span> <span class="s1">&#39;olive&#39;</span><span class="p">:</span><span class="s1">&#39;#808000&#39;</span><span class="p">,</span>
               <span class="s1">&#39;olivedrab&#39;</span><span class="p">:</span><span class="s1">&#39;#6b8e23&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">:</span><span class="s1">&#39;#ffa500&#39;</span><span class="p">,</span> <span class="s1">&#39;orangered&#39;</span><span class="p">:</span><span class="s1">&#39;#ff4500&#39;</span><span class="p">,</span> <span class="s1">&#39;orchid&#39;</span><span class="p">:</span><span class="s1">&#39;#da70d6&#39;</span><span class="p">,</span>
               <span class="s1">&#39;palegoldenrod&#39;</span><span class="p">:</span><span class="s1">&#39;#eee8aa&#39;</span><span class="p">,</span> <span class="s1">&#39;palegreen&#39;</span><span class="p">:</span><span class="s1">&#39;#98fb98&#39;</span><span class="p">,</span> <span class="s1">&#39;paleturquoise&#39;</span><span class="p">:</span><span class="s1">&#39;#afeeee&#39;</span><span class="p">,</span> <span class="s1">&#39;palevioletred&#39;</span><span class="p">:</span><span class="s1">&#39;#d87093&#39;</span><span class="p">,</span>
               <span class="s1">&#39;papayawhip&#39;</span><span class="p">:</span><span class="s1">&#39;#ffefd5&#39;</span><span class="p">,</span> <span class="s1">&#39;peachpuff&#39;</span><span class="p">:</span><span class="s1">&#39;#ffdab9&#39;</span><span class="p">,</span> <span class="s1">&#39;peru&#39;</span><span class="p">:</span><span class="s1">&#39;#cd853f&#39;</span><span class="p">,</span> <span class="s1">&#39;pink&#39;</span><span class="p">:</span><span class="s1">&#39;#ffc0cb&#39;</span><span class="p">,</span> <span class="s1">&#39;plum&#39;</span><span class="p">:</span><span class="s1">&#39;#dda0dd&#39;</span><span class="p">,</span>
               <span class="s1">&#39;powderblue&#39;</span><span class="p">:</span><span class="s1">&#39;#b0e0e6&#39;</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span><span class="s1">&#39;#800080&#39;</span><span class="p">,</span> <span class="s1">&#39;rebeccapurple&#39;</span><span class="p">:</span><span class="s1">&#39;#639&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span><span class="s1">&#39;#f00&#39;</span><span class="p">,</span> <span class="s1">&#39;rosybrown&#39;</span><span class="p">:</span><span class="s1">&#39;#bc8f8f&#39;</span><span class="p">,</span>
               <span class="s1">&#39;royalblue&#39;</span><span class="p">:</span><span class="s1">&#39;#4169e1&#39;</span><span class="p">,</span> <span class="s1">&#39;saddlebrown&#39;</span><span class="p">:</span><span class="s1">&#39;#8b4513&#39;</span><span class="p">,</span> <span class="s1">&#39;salmon&#39;</span><span class="p">:</span><span class="s1">&#39;#fa8072&#39;</span><span class="p">,</span> <span class="s1">&#39;sandybrown&#39;</span><span class="p">:</span><span class="s1">&#39;#f4a460&#39;</span><span class="p">,</span>
               <span class="s1">&#39;seagreen&#39;</span><span class="p">:</span><span class="s1">&#39;#2e8b57&#39;</span><span class="p">,</span> <span class="s1">&#39;seashell&#39;</span><span class="p">:</span><span class="s1">&#39;#fff5ee&#39;</span><span class="p">,</span> <span class="s1">&#39;sienna&#39;</span><span class="p">:</span><span class="s1">&#39;#a0522d&#39;</span><span class="p">,</span> <span class="s1">&#39;silver&#39;</span><span class="p">:</span><span class="s1">&#39;#c0c0c0&#39;</span><span class="p">,</span> <span class="s1">&#39;skyblue&#39;</span><span class="p">:</span><span class="s1">&#39;#87ceeb&#39;</span><span class="p">,</span>
               <span class="s1">&#39;slateblue&#39;</span><span class="p">:</span><span class="s1">&#39;#6a5acd&#39;</span><span class="p">,</span> <span class="s1">&#39;slategray&#39;</span><span class="p">:</span><span class="s1">&#39;#708090&#39;</span><span class="p">,</span> <span class="s1">&#39;slategrey&#39;</span><span class="p">:</span><span class="s1">&#39;#708090&#39;</span><span class="p">,</span> <span class="s1">&#39;snow&#39;</span><span class="p">:</span><span class="s1">&#39;#fffafa&#39;</span><span class="p">,</span>
               <span class="s1">&#39;springgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#00ff7f&#39;</span><span class="p">,</span> <span class="s1">&#39;steelblue&#39;</span><span class="p">:</span><span class="s1">&#39;#4682b4&#39;</span><span class="p">,</span> <span class="s1">&#39;tan&#39;</span><span class="p">:</span><span class="s1">&#39;#d2b48c&#39;</span><span class="p">,</span> <span class="s1">&#39;teal&#39;</span><span class="p">:</span><span class="s1">&#39;#008080&#39;</span><span class="p">,</span> <span class="s1">&#39;thistle&#39;</span><span class="p">:</span><span class="s1">&#39;#d8bfd8&#39;</span><span class="p">,</span>
               <span class="s1">&#39;tomato&#39;</span><span class="p">:</span><span class="s1">&#39;#ff6347&#39;</span><span class="p">,</span> <span class="s1">&#39;turquoise&#39;</span><span class="p">:</span><span class="s1">&#39;#40e0d0&#39;</span><span class="p">,</span> <span class="s1">&#39;violet&#39;</span><span class="p">:</span><span class="s1">&#39;#ee82ee&#39;</span><span class="p">,</span> <span class="s1">&#39;wheat&#39;</span><span class="p">:</span><span class="s1">&#39;#f5deb3&#39;</span><span class="p">,</span> <span class="s1">&#39;white&#39;</span><span class="p">:</span><span class="s1">&#39;#fff&#39;</span><span class="p">,</span>
               <span class="s1">&#39;whitesmoke&#39;</span><span class="p">:</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span><span class="s1">&#39;#ff0&#39;</span><span class="p">,</span> <span class="s1">&#39;yellowgreen&#39;</span><span class="p">:</span><span class="s1">&#39;#9acd32&#39;</span><span class="p">}</span>


<span class="n">colorblind_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Protanopia&#39;</span><span class="p">:</span><span class="s1">&#39;Dichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Deuteranopia&#39;</span><span class="p">:</span><span class="s1">&#39;Dichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Tritanopia&#39;</span><span class="p">:</span><span class="s1">&#39;Dichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Protanomaly&#39;</span><span class="p">:</span><span class="s1">&#39;Trichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Deuteranomaly&#39;</span><span class="p">:</span><span class="s1">&#39;Trichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Tritanomaly&#39;</span><span class="p">:</span><span class="s1">&#39;Trichromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Achromatopsia&#39;</span><span class="p">:</span><span class="s1">&#39;Monochromacy&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Achromatomaly&#39;</span><span class="p">:</span><span class="s1">&#39;Monochromacy&#39;</span><span class="p">}</span>

<span class="n">all_vals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Original Color&#39;</span><span class="p">,</span> <span class="s1">&#39;Protanopia&#39;</span><span class="p">,</span> <span class="s1">&#39;Deuteranopia&#39;</span><span class="p">,</span> <span class="c1">#&#39;Tritanopia&#39;,</span>
            <span class="s1">&#39;Protanomaly&#39;</span><span class="p">,</span> <span class="s1">&#39;Deuteranomaly&#39;</span><span class="p">,</span> <span class="c1">#&#39;Tritanomaly&#39;,</span>
            <span class="s1">&#39;Achromatopsia&#39;</span><span class="p">,</span> <span class="s1">&#39;Achromatomaly&#39;</span><span class="p">,</span> <span class="s1">&#39;Grayscale&#39;</span><span class="p">]</span>

<span class="n">colorblind_rates</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Original Color&#39;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s1">&#39;Protanopia&#39;</span><span class="p">:</span><span class="s1">&#39; - m: 2.4%; f: 0.02%&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Deuteranopia&#39;</span><span class="p">:</span><span class="s1">&#39; - m: 1.2%; f: 0.01%&#39;</span><span class="p">,</span>
                    <span class="c1"># &#39;Tritanopia&#39;:&#39; - m: 0.001%; f: 0.03%&#39;,</span>
                    <span class="s1">&#39;Protanomaly&#39;</span><span class="p">:</span><span class="s1">&#39; - m: 1.3%; f: 0.02%&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Deuteranomaly&#39;</span><span class="p">:</span><span class="s1">&#39; - m: 5.0%; f: 0.35%&#39;</span><span class="p">,</span>
                    <span class="c1"># &#39;Tritanomaly&#39;:&#39; - m: 0.0001%; f: 0.0001%&#39;,</span>
                    <span class="s1">&#39;Achromatopsia&#39;</span><span class="p">:</span><span class="s1">&#39; - ~0.003%&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Achromatomaly&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Grayscale&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># rc(&#39;font&#39;, **{&#39;family&#39;:&#39;serif&#39;,&#39;serif&#39;:[&#39;Palatino&#39;]}) # if you want serif fonts, uncomment this</span>
<span class="c1"># rc(&#39;text&#39;, usetex=True) # use latex fonts </span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">axisbelow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;savefig&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set some image parameters</span>
<span class="n">fs</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">lw</span> <span class="o">=</span> <span class="mf">2.25</span>
<span class="n">fig_w1</span> <span class="o">=</span> <span class="mf">7.0</span>
<span class="n">fig_h1</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="n">al</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">labcol</span> <span class="o">=</span> <span class="s1">&#39;.1&#39;</span>

<span class="n">pe1</span> <span class="o">=</span> <span class="p">[</span><span class="n">path_effects</span><span class="o">.</span><span class="n">Stroke</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="n">lw</span><span class="o">*</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">al</span><span class="p">),</span> <span class="n">path_effects</span><span class="o">.</span><span class="n">Normal</span><span class="p">()]</span>
<span class="n">pe2</span> <span class="o">=</span> <span class="p">[</span><span class="n">path_effects</span><span class="o">.</span><span class="n">Stroke</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">),</span> <span class="n">path_effects</span><span class="o">.</span><span class="n">Normal</span><span class="p">()]</span>
<span class="n">pe3</span> <span class="o">=</span> <span class="p">[</span><span class="n">path_effects</span><span class="o">.</span><span class="n">Stroke</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;.1&#39;</span><span class="p">),</span> <span class="n">path_effects</span><span class="o">.</span><span class="n">Normal</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_srgb_to_hex</span><span class="p">(</span><span class="n">rgb_float</span><span class="p">):</span>
    <span class="n">rgb8</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">rint</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rgb_float</span><span class="p">)</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;#</span><span class="si">%02X%02X%02X</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rgb8</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_hex_to_srgb01</span><span class="p">(</span><span class="n">hex_str</span><span class="p">):</span>
    <span class="n">rgb</span> <span class="o">=</span> <span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">hex_str</span><span class="p">)</span>  <span class="c1"># your helper</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span><span class="o">/</span><span class="mf">255.0</span>

<span class="c1"># map your labels to deficiency+severity</span>
<span class="n">_DL_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Protanopia&quot;</span><span class="p">:</span>    <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;protan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">),</span>
    <span class="s2">&quot;Deuteranopia&quot;</span><span class="p">:</span>  <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;deutan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">),</span>
    <span class="s2">&quot;Tritanopia&quot;</span><span class="p">:</span>    <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;tritan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">),</span>
    <span class="s2">&quot;Protanomaly&quot;</span><span class="p">:</span>   <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;protan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">0.6</span><span class="p">),</span>
    <span class="s2">&quot;Deuteranomaly&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;deutan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">0.6</span><span class="p">),</span>
    <span class="s2">&quot;Tritanomaly&quot;</span><span class="p">:</span>   <span class="nb">dict</span><span class="p">(</span><span class="n">deficiency</span><span class="o">=</span><span class="s2">&quot;tritan&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">0.6</span><span class="p">),</span>
<span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_normalize_hex_6</span><span class="p">(</span><span class="n">hex_str</span><span class="p">):</span>
    <span class="c1"># uses your namedColors; returns &#39;#RRGGBB&#39; or None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hex_str</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">hex_str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">namedColors</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">namedColors</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">==</span><span class="mi">3</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39;0123456789abcdef&#39;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ch</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">!=</span><span class="mi">6</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39;0123456789abcdef&#39;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="s1">&#39;#&#39;</span><span class="o">+</span><span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_colorblindness_colors_local</span><span class="p">(</span><span class="n">hex_col</span><span class="p">,</span> <span class="n">colorblind_types</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">):</span>
    <span class="c1"># normalize input like your original</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hex_col</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">norm</span> <span class="o">=</span> <span class="n">_normalize_hex_6</span><span class="p">(</span><span class="n">hex_col</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hex_col</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">hex_col</span><span class="p">)</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
        <span class="n">norm</span> <span class="o">=</span> <span class="n">_normalize_hex_6</span><span class="p">(</span><span class="n">rgb_to_hex</span><span class="p">(</span><span class="n">hex_col</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Input a hex color please.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">norm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Input a hex color please.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>

    <span class="n">out</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Original Color&quot;</span><span class="p">:</span> <span class="n">norm</span><span class="p">}</span>

    <span class="c1"># fill only keys present in your all_vals</span>
    <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">colorblind_mappings</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_vals</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">_DL_MAP</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="n">_DL_MAP</span><span class="p">[</span><span class="n">label</span><span class="p">]</span>
            <span class="n">srgb</span> <span class="o">=</span> <span class="n">_hex_to_srgb01</span><span class="p">(</span><span class="n">norm</span><span class="p">)[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span>
            <span class="n">sim</span> <span class="o">=</span> <span class="n">_dl_sim</span><span class="p">(</span><span class="n">srgb</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">_srgb_to_hex</span><span class="p">(</span><span class="n">sim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;Achromatopsia&quot;</span><span class="p">:</span>
            <span class="n">gray</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">hex_to_grayscale</span><span class="p">(</span><span class="n">norm</span><span class="p">))</span>
            <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">gray</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span>
            <span class="n">out</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgb_to_hex</span><span class="p">((</span><span class="n">g</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">g</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;Achromatomaly&quot;</span><span class="p">:</span>
            <span class="c1"># blend toward grayscale (60% toward gray)</span>
            <span class="n">gray</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">hex_to_grayscale</span><span class="p">(</span><span class="n">norm</span><span class="p">))</span>
            <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">gray</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span>
            <span class="n">r0</span><span class="p">,</span><span class="n">g0</span><span class="p">,</span><span class="n">b0</span> <span class="o">=</span> <span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">0.6</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.4</span><span class="o">*</span><span class="n">r0</span><span class="p">))</span>
            <span class="n">g2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">0.6</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.4</span><span class="o">*</span><span class="n">g0</span><span class="p">))</span>
            <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">0.6</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.4</span><span class="o">*</span><span class="n">b0</span><span class="p">))</span>
            <span class="n">out</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgb_to_hex</span><span class="p">((</span><span class="n">r</span><span class="p">,</span><span class="n">g2</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">norm</span>

    <span class="c1"># optional filtering</span>
    <span class="k">if</span> <span class="n">colorblind_types</span> <span class="o">!=</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colorblind_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">colorblind_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">colorblind_types</span><span class="p">]</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Original Color&#39;</span><span class="p">:</span> <span class="n">norm</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">out</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">colorblind_types</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">out</span><span class="p">}}</span>

    <span class="n">out</span><span class="p">[</span><span class="s1">&#39;Grayscale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hex_to_grayscale</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_vals</span><span class="p">:</span>
        <span class="n">out</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">norm</span><span class="p">:</span> <span class="n">out</span><span class="p">}</span>



<span class="k">def</span><span class="w"> </span><span class="nf">rgb_to_hsv</span><span class="p">(</span><span class="n">rgb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts an RGB color to HSV format.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rgb : tuple of ints</span>
<span class="sd">        A tuple containing the RGB values (R, G, B) where each value is in the</span>
<span class="sd">        range 0 to 255.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    numpy.ndarray</span>
<span class="sd">        An array representing the HSV equivalent of the input RGB values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rgb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
    <span class="n">rgb</span> <span class="o">=</span> <span class="n">rgb</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
    <span class="n">maxv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
    <span class="n">maxc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
    <span class="n">minv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
    <span class="n">minc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>

    <span class="n">hsv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">rgb</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxc</span> <span class="o">==</span> <span class="n">minc</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">hsv</span><span class="p">[</span><span class="n">maxc</span> <span class="o">==</span> <span class="n">minc</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(((</span><span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="mf">60.0</span> <span class="o">/</span>\
                          <span class="p">(</span><span class="n">maxv</span> <span class="o">-</span> <span class="n">minv</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">spacing</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span> <span class="o">%</span> <span class="mf">360.0</span><span class="p">)[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(((</span><span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">60.0</span> <span class="o">/</span>\
                          <span class="p">(</span><span class="n">maxv</span> <span class="o">-</span> <span class="n">minv</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">spacing</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span> <span class="o">+</span> <span class="mf">120.0</span><span class="p">)[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(((</span><span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">rgb</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mf">60.0</span> <span class="o">/</span>\
                          <span class="p">(</span><span class="n">maxv</span> <span class="o">-</span> <span class="n">minv</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">spacing</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span> <span class="o">+</span> <span class="mf">240.0</span><span class="p">)[</span><span class="n">maxc</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxv</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">hsv</span><span class="p">[</span><span class="n">maxv</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">hsv</span><span class="p">[</span><span class="n">maxv</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">minv</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxv</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">spacing</span><span class="p">(</span><span class="mi">1</span><span class="p">)))[</span><span class="n">maxv</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">hsv</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxv</span><span class="o">/</span><span class="mi">255</span>

    <span class="k">return</span> <span class="n">hsv</span>

<span class="k">def</span><span class="w"> </span><span class="nf">lightness</span><span class="p">(</span><span class="n">hex_col</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the perceived lightness of a color.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    hex_col : str</span>
<span class="sd">        A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The perceived lightness of the color, ranging from 0 (dark) to 1 (light).</span>
<span class="sd">    &quot;&quot;&quot;</span>    
    <span class="n">rgb</span> <span class="o">=</span> <span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">hex_col</span><span class="p">)</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">rgb</span>
    <span class="n">denominator</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.299</span> <span class="o">+</span> <span class="mf">0.587</span> <span class="o">+</span> <span class="mf">0.111</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">L</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.299</span> <span class="o">*</span> <span class="n">r</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">0.587</span> <span class="o">*</span> <span class="n">g</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">0.111</span> <span class="o">*</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="n">denominator</span>

    <span class="k">return</span> <span class="n">L</span>

<span class="k">def</span><span class="w"> </span><span class="nf">saturation</span><span class="p">(</span><span class="n">hex_col</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the saturation of a given hex color.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    hex_col : str</span>
<span class="sd">        A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The saturation value ranging from 0 (unsaturated, grayscale) to 1 (fully saturated).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hsv</span> <span class="o">=</span> <span class="n">rgb_to_hsv</span><span class="p">(</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">hex_col</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">hsv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hue</span><span class="p">(</span><span class="n">hex_col</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the hue of a given hex color.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    hex_col : str</span>
<span class="sd">        A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The hue value in degrees, ranging from 0 to 360.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hsv</span> <span class="o">=</span> <span class="n">rgb_to_hsv</span><span class="p">(</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">hex_col</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">hsv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">rgb_to_hex</span><span class="p">(</span><span class="n">rgb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts an RGB color to hex format.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rgb : tuple of ints</span>
<span class="sd">        A tuple containing the RGB values (R, G, B) where each value is in the</span>
<span class="sd">        range 0 to 255.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The hex code representation of the RGB color.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="n">rgb</span>

    <span class="k">return</span> <span class="s1">&#39;#</span><span class="si">%02x%02x%02x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hex_to_rgb</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a hex color code to an RGB tuple.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple of ints</span>
<span class="sd">        A tuple containing the RGB values (R, G, B) where each value is in the range 0 to 255.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
    <span class="n">lv</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">lv</span><span class="o">//</span><span class="mi">3</span><span class="p">],</span> <span class="mi">16</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lv</span><span class="p">,</span> <span class="n">lv</span><span class="o">//</span><span class="mi">3</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hex_to_grayscale</span><span class="p">(</span><span class="n">hex_col</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a hex color code to its grayscale equivalent.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    hex_col : str</span>
<span class="sd">        A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The grayscale value of the color as a normalized float (0.0 to 1.0).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">hex_col</span><span class="p">)</span>
    <span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">img</span>
    <span class="n">imgGray</span> <span class="o">=</span> <span class="mf">0.2989</span> <span class="o">*</span> <span class="n">R</span> <span class="o">+</span> <span class="mf">0.5870</span> <span class="o">*</span> <span class="n">G</span> <span class="o">+</span> <span class="mf">0.1140</span> <span class="o">*</span> <span class="n">B</span>    

    <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%.7f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">imgGray</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span>

<span class="n">_MACHADO</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;protan&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.152286</span><span class="p">,</span> <span class="mf">1.052583</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.204868</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.114503</span><span class="p">,</span> <span class="mf">0.786281</span><span class="p">,</span>  <span class="mf">0.099216</span><span class="p">],</span>
                        <span class="p">[</span><span class="o">-</span><span class="mf">0.003882</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.048116</span><span class="p">,</span> <span class="mf">1.051998</span><span class="p">]]),</span>
    <span class="s1">&#39;deutan&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.367322</span><span class="p">,</span> <span class="mf">0.860646</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.227968</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.280085</span><span class="p">,</span> <span class="mf">0.672501</span><span class="p">,</span>  <span class="mf">0.047413</span><span class="p">],</span>
                        <span class="p">[</span><span class="o">-</span><span class="mf">0.011820</span><span class="p">,</span> <span class="mf">0.042940</span><span class="p">,</span> <span class="mf">0.968881</span><span class="p">]]),</span>
    <span class="s1">&#39;tritan&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.255528</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.076749</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.178779</span><span class="p">],</span>
                        <span class="p">[</span><span class="o">-</span><span class="mf">0.078411</span><span class="p">,</span> <span class="mf">0.930809</span><span class="p">,</span>  <span class="mf">0.147602</span><span class="p">],</span>
                        <span class="p">[</span><span class="mf">0.004733</span><span class="p">,</span> <span class="mf">0.691367</span><span class="p">,</span> <span class="mf">0.303900</span><span class="p">]]),</span>
<span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_dl_sim</span><span class="p">(</span><span class="n">rgb01</span><span class="p">,</span> <span class="n">deficiency</span><span class="o">=</span><span class="s1">&#39;protan&#39;</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">_MACHADO</span><span class="p">[</span><span class="n">deficiency</span><span class="p">]</span>
    <span class="n">sim</span> <span class="o">=</span> <span class="n">rgb01</span> <span class="o">@</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span>
    <span class="n">sim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">sim</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">severity</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
        <span class="n">sim</span> <span class="o">=</span> <span class="n">rgb01</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">severity</span><span class="p">)</span> <span class="o">+</span> <span class="n">sim</span><span class="o">*</span><span class="n">severity</span>
    <span class="k">return</span> <span class="n">sim</span>
</pre></div>
</div>
</div>
</div>
<p>Sad! Code below used to work :(</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># def get_colorblindness_colors(hex_col, colorblind_types=&#39;all&#39;):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Generates color representations for various types of colorblindness.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     hex_col (str or tuple)</span>
<span class="c1">#         The color you wish to check, in hex code format e.g. &quot;#ffffff&quot; or rgb</span>
<span class="c1">#         format e.g. (1,255,20)</span>

<span class="c1">#     colorblind_types (str or list)</span>
<span class="c1">#         If &quot;all&quot;, the function returns a dictionary with all of the following:</span>
<span class="c1">#             Protanopia - (&quot;Dichromat&quot; family)</span>
<span class="c1">#                 The viewer sees no red.</span>
<span class="c1">#             Deuteranopia - (&quot;Dichromat&quot; family)</span>
<span class="c1">#                 The viewer sees no green.</span>
<span class="c1">#             Tritanopia - (&quot;Dichromat&quot; family)</span>
<span class="c1">#                 The viewer sees no blue.</span>
<span class="c1">#             Protanomaly - (&quot;Anomalous Trichromat&quot; family)</span>
<span class="c1">#                 The viewer sees low amounts of red.</span>
<span class="c1">#             Deuteranomaly - (&quot;Anomalous Trichromat&quot; family).</span>
<span class="c1">#                 The viewer sees low amounts of green.</span>
<span class="c1">#             Tritanomaly - (&quot;Anomalous Trichromat&quot; family).</span>
<span class="c1">#                 The viewer sees low amounts of blue.</span>
<span class="c1">#             Achromatopsia - (&quot;Monochromat&quot; family)</span>
<span class="c1">#                 The viewer sees no color at all.</span>
<span class="c1">#             Achromatomaly - (&quot;Monochromat&quot; family)</span>
<span class="c1">#                 The viewer sees low amounts of color.</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     colorblind_output (dict)</span>
<span class="c1">#         dictionary where the keys are the type of colorblindness and the values</span>
<span class="c1">#         are the re-colored version of your original hex_col. This also includes</span>
<span class="c1">#         a grayscale version of the color.</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     all_vals = [&#39;Original Color&#39;, &#39;Protanopia&#39;, &#39;Deuteranopia&#39;,</span>
<span class="c1">#                 &#39;Protanomaly&#39;, &#39;Deuteranomaly&#39;,</span>
<span class="c1">#                 &#39;Achromatopsia&#39;, &#39;Achromatomaly&#39;, &#39;Grayscale&#39;]</span>

<span class="c1">#     if type(hex_col)!=str:</span>
<span class="c1">#         if len(hex_col)!=3:</span>
<span class="c1">#             print(&#39;Input a hex color please.&#39;)</span>
<span class="c1">#             return &#39;&#39;</span>
<span class="c1">#         else:</span>
<span class="c1">#             hex_col = rgb_to_hex(hex_col)</span>
<span class="c1">#     else:</span>
<span class="c1">#         if &quot;#&quot; not in hex_col and len(hex_col)!=6:</span>
<span class="c1">#             try:</span>
<span class="c1">#                 hex_col = namedColors[hex_col]</span>
<span class="c1">#             except:</span>
<span class="c1">#                 print(&#39;Input a hex color please.&#39;)</span>
<span class="c1">#                 return &#39;&#39;</span>

<span class="c1">#     base_url = &#39;https://convertingcolors.com/&#39;</span>
<span class="c1">#     hex_url = base_url + &#39;hex-color-%s.html&#39;%hex_col.replace(&quot;#&quot;,&#39;&#39;)</span>
<span class="c1">#     print(hex_url)</span>
<span class="c1">#     reqs = aaarequests.get(hex_url)</span>
<span class="c1">#     soup = BeautifulSoup(reqs.text, &#39;html.parser&#39;)</span>

<span class="c1">#     colorblind_sec = soup.find_all(&#39;details&#39;,{&#39;id&#39;:&#39;blindness-simulation&#39;})[0]</span>
<span class="c1">#     colorblind_labels = [i.text for i in colorblind_sec.find_all(&#39;h3&#39;)]</span>
<span class="c1">#     # colorblind_colors = np.unique([i.text for i in colorblind_sec.find_all(&#39;div&#39;)])</span>
<span class="c1">#     tmp = np.unique([i.text for i in colorblind_sec.find_all(&#39;div&#39;)])</span>
<span class="c1">#     colorblind_colors = [i for i in tmp for x in all_vals[1:] if x in i and all_vals[0] not in i]</span>

<span class="c1">#     colorblind_output = {&quot;Original Color&quot;:hex_col}</span>

<span class="c1">#     # for i in colorblind_mappings.keys():</span>
<span class="c1">#     #     for j in colorblind_colors:</span>
<span class="c1">#     #         # if i in j:</span>
<span class="c1">#     #         hex_col_j = j</span>
<span class="c1">#     #         colorblind_output[i] = hex_col_j</span>
<span class="c1">#     for i in colorblind_mappings.keys():</span>
<span class="c1">#         for j in colorblind_colors:</span>
<span class="c1">#             if i in j:</span>
<span class="c1">#                 hex_col_j = &quot;#&quot;+j.split(&#39;%&#39;)[-1]</span>
<span class="c1">#                 # hex_col_j = j.replace(i,&#39;#&#39;)</span>
<span class="c1">#                 colorblind_output[i] = hex_col_j</span>

<span class="c1">#     if colorblind_types!=&#39;all&#39;:</span>
<span class="c1">#         if type(colorblind_types) == str:</span>
<span class="c1">#             colorblind_types = [colorblind_types]</span>

<span class="c1">#         new_out = {&#39;Original Color&#39;:hex_col}</span>
<span class="c1">#         for c in colorblind_types:</span>
<span class="c1">#             new_out[c] = colorblind_output[c]</span>

<span class="c1">#         colorblind_output = new_out</span>

<span class="c1">#     colorblind_output[&#39;Grayscale&#39;] = hex_to_grayscale(hex_col)</span>
<span class="c1">#     for xx in all_vals:</span>
<span class="c1">#         if xx not in list(colorblind_output.keys()):</span>
<span class="c1">#             colorblind_output[xx] = hex_col</span>

<span class="c1">#     return {hex_col:colorblind_output}</span>

<span class="c1"># def rgb_to_hsv(rgb):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Converts an RGB color to HSV format.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     rgb : tuple of ints</span>
<span class="c1">#         A tuple containing the RGB values (R, G, B) where each value is in the</span>
<span class="c1">#         range 0 to 255.</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     numpy.ndarray</span>
<span class="c1">#         An array representing the HSV equivalent of the input RGB values.</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     rgb = np.array(rgb)</span>
<span class="c1">#     rgb = rgb.astype(&#39;float&#39;)</span>
<span class="c1">#     maxv = np.amax(rgb)</span>
<span class="c1">#     maxc = np.argmax(rgb)</span>
<span class="c1">#     minv = np.amin(rgb)</span>
<span class="c1">#     minc = np.argmin(rgb)</span>

<span class="c1">#     hsv = np.zeros(rgb.shape, dtype=&#39;float&#39;)</span>
<span class="c1">#     hsv[maxc == minc, 0] = np.zeros(hsv[maxc == minc, 0].shape)</span>
<span class="c1">#     hsv[maxc == 0, 0] = (((rgb[..., 1] - rgb[..., 2]) * 60.0 /\</span>
<span class="c1">#                           (maxv - minv + np.spacing(1))) % 360.0)[maxc == 0]</span>
<span class="c1">#     hsv[maxc == 1, 0] = (((rgb[..., 2] - rgb[..., 0]) * 60.0 /\</span>
<span class="c1">#                           (maxv - minv + np.spacing(1))) + 120.0)[maxc == 1]</span>
<span class="c1">#     hsv[maxc == 2, 0] = (((rgb[..., 0] - rgb[..., 1]) * 60.0 /\</span>
<span class="c1">#                           (maxv - minv + np.spacing(1))) + 240.0)[maxc == 2]</span>
<span class="c1">#     hsv[maxv == 0, 1] = np.zeros(hsv[maxv == 0, 1].shape)</span>
<span class="c1">#     hsv[maxv != 0, 1] = (1 - minv / (maxv + np.spacing(1)))[maxv != 0]</span>
<span class="c1">#     hsv[..., 2] = maxv/255</span>

<span class="c1">#     return hsv</span>

<span class="c1"># def lightness(hex_col):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Calculates the perceived lightness of a color.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     hex_col : str</span>
<span class="c1">#         A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     float</span>
<span class="c1">#         The perceived lightness of the color, ranging from 0 (dark) to 1 (light).</span>
<span class="c1">#     &quot;&quot;&quot;    </span>
<span class="c1">#     rgb = hex_to_rgb(hex_col)</span>
<span class="c1">#     r,g,b = rgb</span>
<span class="c1">#     denominator = 255 * (0.299 + 0.587 + 0.111)**(0.5)</span>
<span class="c1">#     L = (0.299 * r**2 + 0.587 * g**2 + 0.111 * b**2)**(0.5) / denominator</span>

<span class="c1">#     return L</span>

<span class="c1"># def saturation(hex_col):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Calculates the saturation of a given hex color.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     hex_col : str</span>
<span class="c1">#         A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     float</span>
<span class="c1">#         The saturation value ranging from 0 (unsaturated, grayscale) to 1 (fully saturated).</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     hsv = rgb_to_hsv(hex_to_rgb(hex_col))</span>

<span class="c1">#     return hsv[1]</span>

<span class="c1"># def hue(hex_col):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Calculates the hue of a given hex color.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     hex_col : str</span>
<span class="c1">#         A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     float</span>
<span class="c1">#         The hue value in degrees, ranging from 0 to 360.</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     hsv = rgb_to_hsv(hex_to_rgb(hex_col))</span>

<span class="c1">#     return hsv[0]</span>

<span class="c1"># def rgb_to_hex(rgb):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Converts an RGB color to hex format.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     rgb : tuple of ints</span>
<span class="c1">#         A tuple containing the RGB values (R, G, B) where each value is in the</span>
<span class="c1">#         range 0 to 255.</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     str</span>
<span class="c1">#         The hex code representation of the RGB color.</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     r,g,b=rgb</span>

<span class="c1">#     return &#39;#%02x%02x%02x&#39; % (r,g,b)</span>

<span class="c1"># def hex_to_rgb(value):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Converts a hex color code to an RGB tuple.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     value : str</span>
<span class="c1">#         A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     tuple of ints</span>
<span class="c1">#         A tuple containing the RGB values (R, G, B) where each value is in the range 0 to 255.</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     value = value.lstrip(&#39;#&#39;)</span>
<span class="c1">#     lv = len(value)</span>

<span class="c1">#     return tuple(int(value[i:i+lv//3], 16) for i in range(0, lv, lv//3))</span>

<span class="c1"># def hex_to_grayscale(hex_col):</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     Converts a hex color code to its grayscale equivalent.</span>

<span class="c1">#     Parameters</span>
<span class="c1">#     ----------</span>
<span class="c1">#     hex_col : str</span>
<span class="c1">#         A hex code representing the color (e.g., &quot;#ffffff&quot;).</span>

<span class="c1">#     Returns</span>
<span class="c1">#     -------</span>
<span class="c1">#     str</span>
<span class="c1">#         The grayscale value of the color as a normalized float (0.0 to 1.0).</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     img = hex_to_rgb(hex_col)</span>
<span class="c1">#     R, G, B = img</span>
<span class="c1">#     imgGray = 0.2989 * R + 0.5870 * G + 0.1140 * B    </span>

<span class="c1">#     return &#39;%.7f&#39;%(imgGray/255)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_vals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Original Color&#39;</span><span class="p">,</span> <span class="s1">&#39;Protanopia&#39;</span><span class="p">,</span> <span class="s1">&#39;Deuteranopia&#39;</span><span class="p">,</span> <span class="s1">&#39;Tritanopia&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Protanomaly&#39;</span><span class="p">,</span> <span class="s1">&#39;Deuteranomaly&#39;</span><span class="p">,</span> <span class="s1">&#39;Tritanomaly&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Achromatopsia&#39;</span><span class="p">,</span> <span class="s1">&#39;Achromatomaly&#39;</span><span class="p">,</span> <span class="s1">&#39;Grayscale&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cmap_name</span> <span class="o">=</span> <span class="s1">&#39;Test Colormap 1&#39;</span>

<span class="n">cols1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#DAAA62&#39;</span><span class="p">,</span><span class="s1">&#39;#1E638F&#39;</span><span class="p">,</span><span class="s1">&#39;#C3687D&#39;</span><span class="p">]</span>
<span class="n">cols1_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">:</span>
<span class="c1">#     col1_dict = get_colorblindness_colors(col)</span>
    <span class="n">col1_dict</span> <span class="o">=</span> <span class="n">get_colorblindness_colors_local</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    
    <span class="n">cols1_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">col1_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>
<span class="n">tups</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mf">3.25</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.175</span><span class="o">+</span><span class="mf">0.025</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mf">1.25</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">cb</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_vals</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],(</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">):(</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">cb</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Tritanopia&#39;</span><span class="p">,</span><span class="s1">&#39;Tritanomaly&#39;</span><span class="p">]:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
        <span class="k">continue</span>

    <span class="n">cols1_dict_cb</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols1_dict</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">cb</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
    <span class="n">rv0</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1_dict_cb</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">li</span><span class="p">,</span><span class="n">rv</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">rv0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1_dict_cb</span><span class="p">))):</span>
        <span class="n">lv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">-</span><span class="n">rv0</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">lv</span><span class="p">,</span><span class="n">rv</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">cols1_dict_cb</span><span class="p">[</span><span class="n">li</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ttt</span> <span class="o">=</span> <span class="s2">&quot;Hex: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="k">cols1_dict_cb</span>[li].replace(&#39;#&#39;,&#39;&#39;)
            <span class="n">ttt</span> <span class="o">=</span> <span class="n">ttt</span> <span class="o">+</span> <span class="s1">&#39; --- RGB: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">str</span>(hex_to_rgb(cols1_dict_cb[li]))
            <span class="n">axi</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,(</span><span class="n">lv</span><span class="o">+</span><span class="n">rv</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">ttt</span><span class="p">,</span>
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">axi</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,(</span><span class="n">lv</span><span class="o">+</span><span class="n">rv</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;hex: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="k">cols1_dict_cb</span>[li].replace(&#39;#&#39;,&#39;&#39;),
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cb</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.005</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cb</span><span class="o">+</span><span class="n">colorblind_rates</span><span class="p">[</span><span class="n">cb</span><span class="p">],</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span>
                      <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">)</span>

<span class="n">lightn</span> <span class="o">=</span> <span class="p">[</span><span class="n">lightness</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">saturn</span> <span class="o">=</span> <span class="p">[</span><span class="n">saturation</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">huen</span> <span class="o">=</span> <span class="p">[</span><span class="n">hue</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Lightness&#39;</span><span class="p">,</span><span class="s1">&#39;Saturation&#39;</span><span class="p">,</span><span class="s1">&#39;Hue&#39;</span><span class="p">]</span>
<span class="n">ylims</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">370</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">vi</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">lightn</span><span class="p">,</span><span class="n">saturn</span><span class="p">,</span><span class="n">huen</span><span class="p">]):</span>
    <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">vi</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">v</span><span class="p">,[</span><span class="n">i</span><span class="o">+</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span>
                 <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span> <span class="n">color</span><span class="o">=</span><span class="n">cols1</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v</span><span class="p">,[</span><span class="n">i</span><span class="o">+</span><span class="mf">0.5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span>
             <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">titles</span><span class="p">[</span><span class="n">vi</span><span class="p">],</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                   <span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.005</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)),</span>
               <span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;.6&#39;</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;.3&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="p">]:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;.8&#39;</span><span class="p">)</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/color_explorer_</span><span class="si">%s</span><span class="s1">.png&#39;</span><span class="o">%</span><span class="k">cmap_name</span>.replace(&#39; &#39;,&#39;&#39;),
            <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pdfs/color_explorer_</span><span class="si">%s</span><span class="s1">.pdf&#39;</span><span class="o">%</span><span class="k">cmap_name</span>.replace(&#39; &#39;,&#39;&#39;),
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/a915b47f9bfc0b84ed280f5f2b9692063860ff512dff0f290b98870afd9e6a5e.png" src="../../_images/a915b47f9bfc0b84ed280f5f2b9692063860ff512dff0f290b98870afd9e6a5e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cmap_name</span> <span class="o">=</span> <span class="s1">&#39;Test Colormap 2&#39;</span>

<span class="n">cols1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#008795&#39;</span><span class="p">,</span> <span class="s1">&#39;#4092aa&#39;</span><span class="p">,</span> <span class="s1">&#39;#629cc0&#39;</span><span class="p">,</span> <span class="s1">&#39;#7fa6d6&#39;</span><span class="p">,</span>
         <span class="s1">&#39;#e69d93&#39;</span><span class="p">,</span> <span class="s1">&#39;#dea8ab&#39;</span><span class="p">,</span> <span class="s1">&#39;#d5b4c4&#39;</span><span class="p">,</span> <span class="s1">&#39;#c8c0dd&#39;</span><span class="p">]</span>
<span class="n">cols1_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">:</span>
<span class="c1">#     col1_dict = get_colorblindness_colors(col)</span>
    <span class="n">col1_dict</span> <span class="o">=</span> <span class="n">get_colorblindness_colors_local</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">cols1_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">col1_dict</span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>
<span class="n">tups</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mf">3.25</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.175</span><span class="o">+</span><span class="mf">0.025</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mf">1.25</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">cb</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_vals</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],(</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">):(</span><span class="n">tups</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">cb</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Tritanopia&#39;</span><span class="p">,</span><span class="s1">&#39;Tritanomaly&#39;</span><span class="p">]:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
        <span class="k">continue</span>

    <span class="n">cols1_dict_cb</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols1_dict</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">cb</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
    <span class="n">rv0</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1_dict_cb</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">li</span><span class="p">,</span><span class="n">rv</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">rv0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1_dict_cb</span><span class="p">))):</span>
        <span class="n">lv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">-</span><span class="n">rv0</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">lv</span><span class="p">,</span><span class="n">rv</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">cols1_dict_cb</span><span class="p">[</span><span class="n">li</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ttt</span> <span class="o">=</span> <span class="s2">&quot;Hex: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="k">cols1_dict_cb</span>[li].replace(&#39;#&#39;,&#39;&#39;)
            <span class="n">ttt</span> <span class="o">=</span> <span class="n">ttt</span> <span class="o">+</span> <span class="s1">&#39; --- RGB: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">str</span>(hex_to_rgb(cols1_dict_cb[li]))
            <span class="n">axi</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,(</span><span class="n">lv</span><span class="o">+</span><span class="n">rv</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">ttt</span><span class="p">,</span>
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">axi</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,(</span><span class="n">lv</span><span class="o">+</span><span class="n">rv</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;hex: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="k">cols1_dict_cb</span>[li].replace(&#39;#&#39;,&#39;&#39;),
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cb</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.005</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cb</span><span class="o">+</span><span class="n">colorblind_rates</span><span class="p">[</span><span class="n">cb</span><span class="p">],</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span>
                      <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-small&#39;</span><span class="p">)</span>

<span class="n">lightn</span> <span class="o">=</span> <span class="p">[</span><span class="n">lightness</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">saturn</span> <span class="o">=</span> <span class="p">[</span><span class="n">saturation</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">huen</span> <span class="o">=</span> <span class="p">[</span><span class="n">hue</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols1</span><span class="p">]</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Lightness&#39;</span><span class="p">,</span><span class="s1">&#39;Saturation&#39;</span><span class="p">,</span><span class="s1">&#39;Hue&#39;</span><span class="p">]</span>
<span class="n">ylims</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">370</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">vi</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">lightn</span><span class="p">,</span><span class="n">saturn</span><span class="p">,</span><span class="n">huen</span><span class="p">]):</span>
    <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">vi</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">v</span><span class="p">,[</span><span class="n">i</span><span class="o">+</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span>
                 <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span> <span class="n">color</span><span class="o">=</span><span class="n">cols1</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v</span><span class="p">,[</span><span class="n">i</span><span class="o">+</span><span class="mf">0.5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">))],</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span>
             <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">titles</span><span class="p">[</span><span class="n">vi</span><span class="p">],</span><span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">labcol</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                   <span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)</span><span class="o">*</span><span class="mf">0.005</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>

    <span class="n">axi</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">cols1</span><span class="p">)),</span>
               <span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;.6&#39;</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">ylims</span><span class="p">[</span><span class="n">vi</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;.3&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="p">]:</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;.8&#39;</span><span class="p">)</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/color_explorer_</span><span class="si">%s</span><span class="s1">.png&#39;</span><span class="o">%</span><span class="k">cmap_name</span>.replace(&#39; &#39;,&#39;&#39;),
            <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pdfs/color_explorer_</span><span class="si">%s</span><span class="s1">.pdf&#39;</span><span class="o">%</span><span class="k">cmap_name</span>.replace(&#39; &#39;,&#39;&#39;),
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/e93a307633688cebaf9204fbb7a519f307f4de923b84116682720da7bca817ec.png" src="../../_images/e93a307633688cebaf9204fbb7a519f307f4de923b84116682720da7bca817ec.png" />
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="network-visualization-theory">
<h2>Network visualization - Theory<a class="headerlink" href="#network-visualization-theory" title="Link to this heading">#</a></h2>
<section id="plotting-synthetic-data-network-generative-models">
<h3>Plotting synthetic data: Network generative models<a class="headerlink" href="#plotting-synthetic-data-network-generative-models" title="Link to this heading">#</a></h3>
<p><em>Beyond <code class="docutils literal notranslate"><span class="pre">nx.draw(G)</span></code></em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/dbfba0013278052b43bbddc63792ddd3d1b5f00604a79d9ea922b4dd01a6bc44.png" src="../../_images/dbfba0013278052b43bbddc63792ddd3d1b5f00604a79d9ea922b4dd01a6bc44.png" />
</div>
</div>
<p><strong>Case study:</strong> I want to plot a pedagogical figure showing the effect that <span class="math notranslate nohighlight">\(p\)</span> has on the resulting graphs sampled from <span class="math notranslate nohighlight">\(G(n,p)\)</span>. Iâ€™d like to visualize a number line, with some arrows to networks that are sampled with different parameterizations of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<p><strong>How to do this?</strong> What would I need?</p>
<ol class="arabic simple">
<li><p>Subplots</p></li>
<li><p>Visualize networks under different parameters of <span class="math notranslate nohighlight">\(p\)</span> (maybe a loop?)</p></li>
<li><p>A horizontal line at the bottom of the figure</p></li>
<li><p>Arrows pointing to the right networks (subplots)</p></li>
</ol>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s start with some subplots</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span> <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># put all those axis indices into a list called tups</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>

<span class="c1"># define the figure!</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
       <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]})</span> <span class="c1"># set different height ratios of the rows</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/34a70eb75022b8f8171d8b55e4e1bdba88520382434879d1009b41e6c9c5386f.png" src="../../_images/34a70eb75022b8f8171d8b55e4e1bdba88520382434879d1009b41e6c9c5386f.png" />
</div>
</div>
<p>Hmmmâ€¦ Okay how about I only visualize certain subplots? Perhaps at alternating heights to space the visualization out slightly.</p>
<p>If I want that, I first need to specifiy which tuples of subplots the networks will be plotted in.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s start with some subplots</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span> <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># put all those axis indices into a list called tups</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>

<span class="c1">### create a subset of tups that the networks will be plotted in</span>
<span class="c1">### let&#39;s say every other subplot (up/down/up/down etc.)</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 


<span class="c1"># define the figure!</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
                       <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]})</span> <span class="c1"># set different height ratios of the rows</span>


<span class="c1"># try it out! set the axes off that you dont wanna see</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/d7019441c3d877b8dda6b15bdc1700678afb4a6c7e43f54bf0f16e336eefcb92.png" src="../../_images/d7019441c3d877b8dda6b15bdc1700678afb4a6c7e43f54bf0f16e336eefcb92.png" />
</div>
</div>
<p>Ahhh but wait! Where did my little bottom row of short subplots go? Can I merge those all into a single long + thin subplot spanning the bottom?</p>
<p><strong>Answer:</strong> <em>Yes</em>. Using <code class="docutils literal notranslate"><span class="pre">gridspec</span></code> <a class="reference external" href="https://matplotlib.org/3.5.0/tutorials/intermediate/gridspec.html">https://matplotlib.org/3.5.0/tutorials/intermediate/gridspec.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s start with some subplots</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span> <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># put all those axis indices into a list called tups</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>

<span class="c1"># create a subset of tups that the networks will be plotted in</span>
<span class="c1"># let&#39;s say every other subplot (up/down/up/down etc.)</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 


<span class="c1"># define the figure!</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
                       <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]})</span> <span class="c1"># set different height ratios of the rows</span>


<span class="c1">### create a new &quot;gridspec&quot; object, specified as follows</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>

<span class="c1">### add the axis to the plot, based on the gridspec object you made</span>
<span class="n">axi0</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">0</span><span class="p">:(</span><span class="n">ncols</span><span class="p">)])</span>

<span class="c1">### customize your axis</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>




<span class="c1"># try it out! set the axes off that you dont wanna see</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/7de7169a764e4f4973a7b60ec967e8a27ed14853ab7eb31c4906dd403e7edeb3.png" src="../../_images/7de7169a764e4f4973a7b60ec967e8a27ed14853ab7eb31c4906dd403e7edeb3.png" />
</div>
</div>
<p>Nice! I now have my number line back.</p>
<p><em>Note:</em> In the final figure, I change the gridspec call slightly to better align with the network visualizations.</p>
<p><strong>Last Major Step</strong> (before customizations): Plot some networks and add some arrows!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s start with some subplots</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span> <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># put all those axis indices into a list called tups</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>

<span class="c1"># create a subset of tups that the networks will be plotted in</span>
<span class="c1"># let&#39;s say every other subplot (up/down/up/down etc.)</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 


<span class="c1"># define the figure!</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
                       <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]})</span> <span class="c1"># set different height ratios of the rows</span>


<span class="c1"># create a new &quot;gridspec&quot; object, specified as follows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>

<span class="c1"># add the axis to the plot, based on the gridspec object you made</span>
<span class="n">axi0</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">:(</span><span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>

<span class="c1"># customize your axis</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>


<span class="c1">############ NETWORK PLOTTING TIME! ##############</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># this will be my list of p to use</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">):</span>
    <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
    <span class="n">param</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">G_i</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">erdos_renyi_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>

    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G_i</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axi</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$p=</span><span class="si">%0.3f</span><span class="s2">$&quot;</span><span class="o">%</span><span class="k">param</span>)

    <span class="c1"># Add arrows from bottom subplot to network graphs</span>
    <span class="n">net_x</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">ncols</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Normalized position of the network subplot</span>
    
    <span class="c1"># Create arrows from bottom plot to networks</span>
    <span class="n">net_y</span> <span class="o">=</span> <span class="mf">7.75</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mf">1.75</span>
    <span class="n">net_y</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span>
    <span class="n">axi0</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="n">net_y</span><span class="p">),</span>
                  <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
                  <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">headwidth</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span> <span class="n">headlength</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>

<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">,</span> <span class="mf">1e0</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    
<span class="c1"># try it out! set the axes off that you dont wanna see</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/87f39244c79bb67c2d20441f817804d4e065a6e6f53b78b7cb0ee0cf7ae13cbe.png" src="../../_images/87f39244c79bb67c2d20441f817804d4e065a6e6f53b78b7cb0ee0cf7ae13cbe.png" />
</div>
</div>
<p><em><strong>We did it!</strong></em> See below for some fancier customization, but the gist of the visualization is done.</p>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">]},</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">axi</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>

<span class="n">axi0</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">:(</span><span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>


<span class="n">plot_tups</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 

<span class="n">N</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">tab20b</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="p">)))</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
    <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
    <span class="n">param</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">G_i</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">erdos_renyi_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>

    <span class="n">nc</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">kamada_kawai_layout</span><span class="p">(</span><span class="n">G_i</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G_i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="p">[</span><span class="n">nc</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.2&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axi</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G_i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">1.25</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;.4&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axi</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$p=</span><span class="si">%0.3f</span><span class="s2">$&quot;</span><span class="o">%</span><span class="k">param</span>)

    <span class="c1"># Add arrows from bottom subplot to network graphs</span>
    <span class="n">param_x</span> <span class="o">=</span> <span class="n">param</span>  <span class="c1"># The x position in the bottom subplot corresponding to the parameter p</span>
    <span class="n">net_x</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">ncols</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Normalized position of the network subplot</span>
    
    <span class="c1"># Create arrows from bottom plot to networks</span>
    <span class="n">net_y</span> <span class="o">=</span> <span class="mf">7.75</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mf">1.75</span>
    <span class="n">net_y</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span>
    <span class="n">axi0</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="n">net_y</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
                  <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">fc</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
                                                              <span class="n">headwidth</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span> <span class="n">headlength</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
    
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">,</span> <span class="mf">1e0</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Visualizing different parameterizations of ErdÅ‘s-RÃ©nyi random graphs ($N=</span><span class="si">%i</span><span class="s1">$)&#39;</span><span class="o">%</span><span class="k">N</span>,
             <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.05</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/er_span_viz.png&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pdfs/er_span_viz.pdf&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/4780bc31dfb8ce2c7f12de414f1f3445ecef47d26a7f7273e156d5bec298c779.png" src="../../_images/4780bc31dfb8ce2c7f12de414f1f3445ecef47d26a7f7273e156d5bec298c779.png" />
</div>
</div>
<hr class="docutils" />
<p>What about the same figure, but with nonlinear preferential attachment?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">preferential_attachment_network</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a network based off of a preferential attachment growth rule.</span>
<span class="sd">    Under this growth rule, new nodes place their $m$ edges to nodes already</span>
<span class="sd">    present in the graph, G, with a probability proportional to $k^\alpha$.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    N (int): the desired number of nodes in the final network</span>
<span class="sd">    alpha (float): the exponent of preferential attachment. When alpha is less</span>
<span class="sd">                   than 1.0, we describe it as sublinear preferential</span>
<span class="sd">                   attachment. At alpha &gt; 1.0, it is superlinear preferential</span>
<span class="sd">                   attachment. And at alpha=1.0, the network was grown under</span>
<span class="sd">                   linear preferential attachment, as in the case of</span>
<span class="sd">                   Barabasi-Albert networks.</span>
<span class="sd">    m (int): the number of new links that each new node joins the network with.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    G (nx.Graph): a graph grown under preferential attachment.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complete_graph</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">node_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
        <span class="n">degrees</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="p">(</span><span class="n">degrees</span><span class="o">**</span><span class="n">alpha</span><span class="p">)</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">degrees</span><span class="o">**</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">eijs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
                    <span class="n">G</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">(),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">m</span><span class="p">,),</span>
                    <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">probs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node_j</span> <span class="ow">in</span> <span class="n">eijs</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">node_i</span><span class="p">,</span> <span class="n">node_j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">G</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">tups</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">)))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">]},</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">axi</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>

<span class="n">axi0</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">:(</span><span class="n">ncols</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>


<span class="n">plot_tups</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">plot_tups</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">plot_tups</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 

<span class="n">N</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">9.</span><span class="p">,</span><span class="o">-</span><span class="mf">7.</span><span class="p">,</span><span class="o">-</span><span class="mf">5.</span><span class="p">,</span><span class="o">-</span><span class="mf">3.</span><span class="p">,</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">3.</span><span class="p">]</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">tab20c</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="p">)))</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
    <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
    <span class="n">param</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">G_i</span> <span class="o">=</span> <span class="n">preferential_attachment_network</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">nc</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">kamada_kawai_layout</span><span class="p">(</span><span class="n">G_i</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G_i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="p">[</span><span class="n">nc</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.1&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axi</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G_i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">1.25</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;.4&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axi</span><span class="p">)</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\alpha=</span><span class="si">%0.1f</span><span class="s2">$&quot;</span><span class="o">%</span><span class="k">param</span>)

    <span class="c1"># Add arrows from bottom subplot to network graphs</span>
    <span class="n">param_x</span> <span class="o">=</span> <span class="n">param</span>  <span class="c1"># The x position in the bottom subplot corresponding to the parameter p</span>
    <span class="n">net_x</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">ncols</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Normalized position of the network subplot</span>
    
    <span class="c1"># Create arrows from bottom plot to networks</span>
    <span class="n">net_y</span> <span class="o">=</span> <span class="mf">7.75</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mf">1.75</span>
    <span class="n">net_y</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span>
    <span class="n">axi0</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="n">net_y</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
                  <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">fc</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
                                                              <span class="n">headwidth</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span> <span class="n">headlength</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
    
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">axi0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">axi0</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot_tups</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
        <span class="n">axi</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Visualizing different parameterizations of nonlinear preferential attachment graphs ($N=</span><span class="si">%i</span><span class="s1">$)&#39;</span><span class="o">%</span><span class="k">N</span>,
             <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.05</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/prefattach_span_viz.png&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pdfs/prefattach_span_viz.pdf&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/8365e49dad2a8c4075e9511562a6a7a38a97ca61cda15a6b192021f88c69b8a8.png" src="../../_images/8365e49dad2a8c4075e9511562a6a7a38a97ca61cda15a6b192021f88c69b8a8.png" />
</div>
</div>
</section>
</section>
<section id="network-visualization-data">
<h2>Network visualization - Data<a class="headerlink" href="#network-visualization-data" title="Link to this heading">#</a></h2>
<section id="mystery-network-from-above-the-u-s-commute-network">
<h3>1. Mystery network from above: The U.S. Commute Network<a class="headerlink" href="#mystery-network-from-above-the-u-s-commute-network" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/mystery.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    <span class="n">commute_network</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">commute_network</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">commute_network</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;pos&#39;</span><span class="p">],</span> 
                  <span class="n">population</span><span class="o">=</span><span class="n">commute_network</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;population&#39;</span><span class="p">],</span>
                  <span class="n">state</span><span class="o">=</span><span class="n">commute_network</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;state&#39;</span><span class="p">],</span>
                  <span class="n">housing</span><span class="o">=</span><span class="n">commute_network</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;housing&#39;</span><span class="p">])</span>
    <span class="n">edge_data</span> <span class="o">=</span> <span class="n">commute_network</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;edge_data&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">edge_data</span><span class="p">[</span><span class="s1">&#39;edges&#39;</span><span class="p">])):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">edge_data</span><span class="p">[</span><span class="s1">&#39;edges&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
                   <span class="n">weight</span><span class="o">=</span><span class="n">edge_data</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
                   <span class="n">margin</span><span class="o">=</span><span class="n">edge_data</span><span class="p">[</span><span class="s1">&#39;margin&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

<span class="n">pos</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="s1">&#39;pos&#39;</span><span class="p">))</span>
<span class="n">xs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">gp</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">to_undirected</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/79d2d25040aa8b62812a3a437e123ca2320b6f2217413dd2864b06bd5bfc3343.png" src="../../_images/79d2d25040aa8b62812a3a437e123ca2320b6f2217413dd2864b06bd5bfc3343.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## if you want state-based-coloring</span>
<span class="n">statehood</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="s1">&#39;state&#39;</span><span class="p">)</span>

<span class="n">unique_states</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">statehood</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">unique_states</span><span class="p">)</span>

<span class="n">nstates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_states</span><span class="p">)</span>

<span class="n">cmap_cols</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">unique_states</span><span class="p">,</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">tab20b</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">nstates</span><span class="p">))))</span>
<span class="n">node_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">cmap_cols</span><span class="p">[</span><span class="n">com</span><span class="p">]</span> <span class="k">for</span> <span class="n">com</span> <span class="ow">in</span> <span class="n">statehood</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mult</span><span class="o">=</span><span class="mf">1.0</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">mult</span><span class="p">,</span><span class="mi">9</span><span class="o">*</span><span class="n">mult</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">ns</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">ew</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">ec</span> <span class="o">=</span> <span class="s1">&#39;#666666&#39;</span>
<span class="n">nc</span> <span class="o">=</span> <span class="n">node_colors</span>

<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">gp</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">ew</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="n">ec</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">gp</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="n">ns</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
                       <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">xdiff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="n">ydiff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">-</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.01</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">+</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.01</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">+</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.01</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/USA_commutes.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/5d352ebaffe1c774f068ae55141855743a5236832567e3a9939b43a019c65794.png" src="../../_images/5d352ebaffe1c774f068ae55141855743a5236832567e3a9939b43a019c65794.png" />
</div>
</div>
<p><img alt="" src="../../_images/economicgeography.png" /></p>
</section>
<hr class="docutils" />
<section id="polysemy-in-networks">
<h3>2. Polysemy in Networks<a class="headerlink" href="#polysemy-in-networks" title="Link to this heading">#</a></h3>
<p><img alt="" src="../../_images/polysemy.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;data/univ_language.txt&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Language</th>
      <th>Region</th>
      <th>Globe</th>
      <th>Abbreviation</th>
      <th>Var1</th>
      <th>Var2</th>
      <th>Var3</th>
      <th>Meaning</th>
      <th>Word</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Khoisan</td>
      <td>Southern_African</td>
      <td>Southern</td>
      <td>!XÃ³Ãµ</td>
      <td>nmn</td>
      <td>-24.0</td>
      <td>21.5</td>
      <td>CLOUD(S)</td>
      <td>!kx'Ã´e_ÇnÃ n-sÃ¢</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Khoisan</td>
      <td>Southern_African</td>
      <td>Southern</td>
      <td>!XÃ³Ãµ</td>
      <td>nmn</td>
      <td>-24.0</td>
      <td>21.5</td>
      <td>RIVER</td>
      <td>!nÃ¡u_'|ná¹µÌm</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Khoisan</td>
      <td>Southern_African</td>
      <td>Southern</td>
      <td>!XÃ³Ãµ</td>
      <td>nmn</td>
      <td>-24.0</td>
      <td>21.5</td>
      <td>watercourse</td>
      <td>!nÃ¡u_'|ná¹µÌm</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Khoisan</td>
      <td>Southern_African</td>
      <td>Southern</td>
      <td>!XÃ³Ãµ</td>
      <td>nmn</td>
      <td>-24.0</td>
      <td>21.5</td>
      <td>amniotic_fluid</td>
      <td>!qhÃ a</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Khoisan</td>
      <td>Southern_African</td>
      <td>Southern</td>
      <td>!XÃ³Ãµ</td>
      <td>nmn</td>
      <td>-24.0</td>
      <td>21.5</td>
      <td>rain</td>
      <td>!qhÃ a</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Meaning</span><span class="p">)</span>
<span class="n">target</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Word</span><span class="p">)</span>
<span class="n">edgelist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">))</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">from_edgelist</span><span class="p">(</span><span class="n">edgelist</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">community</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

<span class="n">comcols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#84e8d8&quot;</span><span class="p">,</span><span class="s2">&quot;#ef7664&quot;</span><span class="p">,</span><span class="s2">&quot;#59e19e&quot;</span><span class="p">,</span><span class="s2">&quot;#e081d4&quot;</span><span class="p">,</span><span class="s2">&quot;#71bc62&quot;</span><span class="p">,</span><span class="s2">&quot;#a98ae5&quot;</span><span class="p">,</span><span class="s2">&quot;#d3e671&quot;</span><span class="p">,</span>
           <span class="s2">&quot;#6c96ef&quot;</span><span class="p">,</span><span class="s2">&quot;#96af39&quot;</span><span class="p">,</span><span class="s2">&quot;#53a4e5&quot;</span><span class="p">,</span><span class="s2">&quot;#dd973f&quot;</span><span class="p">,</span><span class="s2">&quot;#63c4e1&quot;</span><span class="p">,</span><span class="s2">&quot;#c8b147&quot;</span><span class="p">,</span><span class="s2">&quot;#b1b9e9&quot;</span><span class="p">,</span>
           <span class="s2">&quot;#aca858&quot;</span><span class="p">,</span><span class="s2">&quot;#ea7aa2&quot;</span><span class="p">,</span><span class="s2">&quot;#bce59d&quot;</span><span class="p">,</span><span class="s2">&quot;#d0a2d3&quot;</span><span class="p">,</span><span class="s2">&quot;#71b990&quot;</span><span class="p">,</span><span class="s2">&quot;#db9869&quot;</span><span class="p">,</span><span class="s2">&quot;#799fc8&quot;</span><span class="p">,</span>
           <span class="s2">&quot;#e6d59f&quot;</span><span class="p">,</span><span class="s2">&quot;#5db1aa&quot;</span><span class="p">,</span><span class="s2">&quot;#d89a98&quot;</span><span class="p">,</span><span class="s2">&quot;#a1a776&quot;</span><span class="p">]</span>

<span class="n">colorzz</span> <span class="o">=</span> <span class="p">[</span><span class="n">comcols</span><span class="p">[</span><span class="n">com</span><span class="p">]</span> <span class="k">for</span> <span class="n">com</span> <span class="ow">in</span> <span class="n">partition</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<p><em><strong>Warning â€“ the next line takes a few minutes to run.</strong></em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos0</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">kamada_kawai_layout</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos0</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ews</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">degs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">ns</span> <span class="o">=</span> <span class="n">degs</span><span class="o">*</span><span class="mi">17</span> <span class="o">+</span> <span class="mi">25</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mf">15.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="n">ns</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="n">colorzz</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> 
                       <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;#f1f1f1&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s2">&quot;#999999&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">ews</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">xx</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.925</span><span class="p">,</span><span class="mf">1.075</span><span class="p">]</span>
<span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">degs</span><span class="p">,</span><span class="mf">0.9885</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ii</span><span class="o">%</span><span class="k">2</span>==0:
            <span class="n">rr</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nudge</span> <span class="o">=</span> <span class="n">xx</span><span class="p">[</span><span class="n">rr</span><span class="p">]</span>
        <span class="n">lab</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;hi&#39;</span><span class="p">:</span>
            <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;moon&#39;</span><span class="p">:</span>
            <span class="n">nudge</span> <span class="o">=</span> <span class="n">nudge</span><span class="o">*</span><span class="mf">0.9</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;air&#39;</span><span class="p">:</span>
            <span class="n">nudge</span> <span class="o">=</span> <span class="n">nudge</span><span class="o">*</span><span class="mf">0.9</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;sunlight&#39;</span><span class="p">:</span>
            <span class="n">nudge</span> <span class="o">=</span> <span class="n">nudge</span><span class="o">*</span><span class="mf">1.02</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;ground&#39;</span><span class="p">:</span>
            <span class="n">nudge</span> <span class="o">=</span> <span class="n">nudge</span><span class="o">*</span><span class="mf">1.05</span>
        <span class="k">if</span> <span class="n">lab</span> <span class="o">==</span> <span class="s1">&#39;country&#39;</span><span class="p">:</span>
            <span class="n">nudge</span> <span class="o">=</span> <span class="n">nudge</span><span class="o">*</span><span class="mf">0.875</span>
        <span class="n">pos_i</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:(</span><span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">nudge</span><span class="p">,</span><span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">nudge</span><span class="p">)}</span>
        <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos_i</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="n">lab</span><span class="p">},</span> 
                                <span class="n">font_size</span><span class="o">=</span><span class="mf">0.12</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="mi">14</span><span class="p">)</span><span class="c1">#, font_weight=&#39;bold&#39;)</span>
        <span class="n">ii</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">rr</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">posx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">posy</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">xrange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">posx</span><span class="p">))</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">posx</span><span class="p">))</span>
<span class="n">yrange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">posy</span><span class="p">))</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">posy</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">posx</span><span class="p">)</span><span class="o">-</span><span class="n">xrange</span><span class="o">*</span><span class="mf">0.025</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">posx</span><span class="p">)</span><span class="o">+</span><span class="n">xrange</span><span class="o">*</span><span class="mf">0.025</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">posy</span><span class="p">)</span><span class="o">-</span><span class="n">yrange</span><span class="o">*</span><span class="mf">0.025</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">posy</span><span class="p">)</span><span class="o">+</span><span class="n">yrange</span><span class="o">*</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/UniversalLanguage.png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pdfs/UniversalLanguage.pdf&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/fa4638154278ac957374314ccc5022a42f95a3c3167ccdb940666d0d5efd9a25.png" src="../../_images/fa4638154278ac957374314ccc5022a42f95a3c3167ccdb940666d0d5efd9a25.png" />
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="bonus-multilayer-network-visualization">
<h2>Bonus - Multilayer Network Visualization<a class="headerlink" href="#bonus-multilayer-network-visualization" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mpl_toolkits.mplot3d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Axes3D</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.patheffects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">path_effects</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mpl_toolkits.mplot3d.art3d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Line3DCollection</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s start with the important stuff. pick your colors.</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;steelblue&#39;</span><span class="p">,</span> <span class="s1">&#39;darksalmon&#39;</span><span class="p">,</span> <span class="s1">&#39;mediumseagreen&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imagine you have three node-aligned snapshots of a network</span>
<span class="n">G1</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="n">G2</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="n">G3</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>

<span class="n">pos3</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G1</span><span class="p">)</span> <span class="c1"># assuming common node location</span>
<span class="n">graphs</span> <span class="o">=</span> <span class="p">[</span><span class="n">G1</span><span class="p">,</span><span class="n">G2</span><span class="p">,</span> <span class="n">G3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">6</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">125</span><span class="p">,</span> <span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;3d&#39;</span><span class="p">})</span>

<span class="k">for</span> <span class="n">gi</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">graphs</span><span class="p">):</span>
    <span class="c1"># node positions</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="o">.</span><span class="n">values</span><span class="p">())))[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">zs</span> <span class="o">=</span> <span class="p">[</span><span class="n">gi</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="c1"># set a common z-position of the nodes </span>

    <span class="c1"># node colors</span>
    <span class="n">cs</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">[</span><span class="n">gi</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
    
    <span class="c1"># if you want to have between-layer connections</span>
    <span class="k">if</span> <span class="n">gi</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">thru_nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()),</span><span class="mi">10</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">lines3d_between</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">+</span><span class="p">[</span><span class="n">gi</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">+</span><span class="p">[</span><span class="n">gi</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">thru_nodes</span><span class="p">]</span>
        <span class="n">between_lines</span> <span class="o">=</span> <span class="n">Line3DCollection</span><span class="p">(</span><span class="n">lines3d_between</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="n">gi</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;.5&#39;</span><span class="p">,</span>
                                         <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">between_lines</span><span class="p">)</span>

    <span class="c1"># add within-layer edges </span>
    <span class="n">lines3d</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">+</span><span class="p">[</span><span class="n">gi</span><span class="p">],</span><span class="nb">list</span><span class="p">(</span><span class="n">pos3</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">+</span><span class="p">[</span><span class="n">gi</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">()]</span>
    <span class="n">line_collection</span> <span class="o">=</span> <span class="n">Line3DCollection</span><span class="p">(</span><span class="n">lines3d</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="n">gi</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">gi</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_collection3d</span><span class="p">(</span><span class="n">line_collection</span><span class="p">)</span>
    
    <span class="c1"># now add nodes</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="n">zs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">cs</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;.2&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="n">gi</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># add a plane to designate the layer</span>
    <span class="n">xdiff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
    <span class="n">ydiff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">-</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.1</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">+</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.1</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.1</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="n">h</span><span class="p">)</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">+</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.1</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="n">h</span><span class="p">)</span>
    <span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">([</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">],[</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">])</span>
    <span class="n">zz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">xx</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span><span class="o">+</span><span class="n">gi</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot_surface</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">gi</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="n">gi</span><span class="p">)</span>

    <span class="c1"># add label</span>
    <span class="n">layertext</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.15</span><span class="p">,</span> <span class="n">gi</span><span class="o">*</span><span class="mf">0.95</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;Layer </span><span class="si">%i</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">gi</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;.95&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                        <span class="n">path_effects</span><span class="o">=</span><span class="p">[</span><span class="n">path_effects</span><span class="o">.</span><span class="n">Stroke</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">gi</span><span class="p">]),</span>
                                      <span class="n">path_effects</span><span class="o">.</span><span class="n">Normal</span><span class="p">()])</span>

<span class="c1"># set them all at the same x,y,zlims</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">-</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.1</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">+</span><span class="n">ydiff</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.1</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">+</span><span class="n">xdiff</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">graphs</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># select viewing angle</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">height_angle</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">height_angle</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>

<span class="c1"># Optionally, adjust the 3D figure&#39;s aspect ratio or other properties for zoom</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_box_aspect</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">3.25</span><span class="p">])</span>  <span class="c1"># Modify aspect ratio if necessary</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;images/pngs/multilayer_network.png&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">425</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/d93144a8d41d6801c25b7fd6024f4a06246ebbc5f3db7cfb151358be719513d2.png" src="../../_images/d93144a8d41d6801c25b7fd6024f4a06246ebbc5f3db7cfb151358be719513d2.png" />
</div>
</div>
</section>
<hr class="docutils" />
<section id="next-time">
<h2>Next timeâ€¦<a class="headerlink" href="#next-time" title="Link to this heading">#</a></h2>
<p>Visualization 2 â€” Data Viz in Python! <code class="docutils literal notranslate"><span class="pre">class_13_visualization1.ipynb</span></code></p>
</section>
<hr class="docutils" />
<section id="references-and-further-resources">
<h2>References and further resources:<a class="headerlink" href="#references-and-further-resources" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Class Webpages</p>
<ul class="simple">
<li><p>Jupyter Book: <a class="reference external" href="https://network-science-data-and-models.github.io/phys7332_fa25/README.html">https://network-science-data-and-models.github.io/phys7332_fa25/README.html</a></p></li>
<li><p>Github: <a class="github reference external" href="https://github.com/network-science-data-and-models/phys7332_fa25/">network-science-data-and-models/phys7332_fa25</a></p></li>
<li><p>Syllabus and course details: <a class="reference external" href="https://brennanklein.com/phys7332-fall25">https://brennanklein.com/phys7332-fall25</a></p></li>
</ul>
</li>
<li><p>Github! Find papers with figures that you like and stalk the authorsâ€™ github pages! Iâ€™ll start with a few from my own githubâ€¦ <a class="github reference external" href="https://github.com/jkbren/networks-and-dataviz?tab=readme-ov-file">jkbren/networks-and-dataviz</a>. But send over any that you like and weâ€™ll add them to the list!</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/class_12"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../class_09/class_09_communities2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Class 09: Clustering &amp; Community Detection 2 â€” Contemporary</p>
      </div>
    </a>
    <a class="right-next"
       href="../class_13/class_13_visualization_python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Class 13: Visualization 2 â€” Advanced Python</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-the-class-with-a-challenge">ðŸš¨ Starting the class with a challenge ðŸš¨</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#color">Color</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulating-colorblindness-and-color-anomalous-viewers">Simulating colorblindness and color-anomalous viewers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#network-visualization-theory">Network visualization - Theory</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-synthetic-data-network-generative-models">Plotting synthetic data: Network generative models</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#network-visualization-data">Network visualization - Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mystery-network-from-above-the-u-s-commute-network">1. Mystery network from above: The U.S. Commute Network</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#polysemy-in-networks">2. Polysemy in Networks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-multilayer-network-visualization">Bonus - Multilayer Network Visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-time">Next timeâ€¦</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-resources">References and further resources:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brennan Klein
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>